(function(global,factory){if(typeof define==='function'&&define.amd)
define(['jquery'],function(framework){return factory(global,global.document,undefined,framework);});else if(typeof module==='object'&&typeof module.exports==='object')
module.exports=factory(global,global.document,undefined,require('jquery'));else
factory(global,global.document,undefined,global.jQuery);}(typeof window!=='undefined'?window:this,function(window,document,undefined,framework){'use strict';var PLUGINNAME='OverlayScrollbars';var TYPES={o:'object',f:'function',a:'array',s:'string',b:'boolean',n:'number',u:'undefined',z:'null'};var LEXICON={c:'class',s:'style',i:'id',l:'length',oH:'offsetHeight',cH:'clientHeight',sH:'scrollHeight',oW:'offsetWidth',cW:'clientWidth',sW:'scrollWidth'};var COMPATIBILITY={wW:function(){return window.innerWidth||document.documentElement[LEXICON.cW]||document.body[LEXICON.cW];},wH:function(){return window.innerHeight||document.documentElement[LEXICON.cH]||document.body[LEXICON.cH];},mO:function(){return window.MutationObserver||window.WebKitMutationObserver||window.WebkitMutationObserver||window.MozMutationObserver||undefined;},rO:function(){return window.ResizeObserver||window.WebKitResizeObserver||window.WebkitResizeObserver||window.MozResizeObserver||undefined;},rAF:function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(func){return window.setTimeout(func,1000/60);};},cAF:function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(id){return window.clearTimeout(id);};},now:function(){return Date.now()||new Date().getTime();},stpP:function(event){if(event.stopPropagation)
event.stopPropagation();else
event.cancelBubble=true;},prvD:function(event){if(event.preventDefault&&event.cancelable)
event.preventDefault();else
event.returnValue=false;},page:function(event){event=event.originalEvent||event;var strPage='page';var strClient='client';var strX='X';var strY='Y';var target=event.target||event.srcElement||document;var eventDoc=target.ownerDocument||document;var doc=eventDoc.documentElement;var body=eventDoc.body;if(event.touches!==undefined){var touch=event.touches[0];return{x:touch[strPage+strX],y:touch[strPage+strY]}}
if(!event[strPage+strX]&&event[strClient+strX]&&event[strClient+strX]!=null){return{x:event[strClient+strX]+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),y:event[strClient+strY]+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}}
return{x:event[strPage+strX],y:event[strPage+strY]};},mBtn:function(event){if(!event.which&&event.button!==undefined)
return(event.button&1?1:(event.button&2?3:(event.button&4?2:0)));else
return event.which;},inA:function(item,arr){for(var i=0;i<arr[LEXICON.l];i++){try{if(arr[i]===item)
return i;}
catch(e){}}
return-1;},bind:function(func,thisObj){if(typeof func!=TYPES.f){throw"Can't bind function!";}
var aArgs=Array.prototype.slice.call(arguments,2);var fNOP=function(){};var fBound=function(){return func.apply(this instanceof fNOP?this:thisObj,aArgs.concat(Array.prototype.slice.call(arguments)));};if(func.prototype)
fNOP.prototype=func.prototype;fBound.prototype=new fNOP();return fBound;}};var JQUERY=framework;var FRAMEWORK=framework;var INSTANCES=(function(compatibility){var _targets=[];var _instancePropertyString='__overlayScrollbars__';return function(target,instance){var argLen=arguments[LEXICON.l];if(argLen<1){return _targets;}
else{if(instance){target[_instancePropertyString]=instance;_targets.push(target);}
else{var index=compatibility.inA(target,_targets);if(index>-1){if(argLen>1){delete target[_instancePropertyString];_targets.splice(index,1);}
else{return _targets[index][_instancePropertyString];}}}}}})(COMPATIBILITY);var PLUGIN=(function(framework,compatibility,instances){var _pluginsGlobals;var _pluginsAutoUpdateLoop;var _pluginsExtensions=[];var _pluginsOptions=(function(){var possibleTemplateTypes=[TYPES.b,TYPES.n,TYPES.s,TYPES.a,TYPES.o,TYPES.f,TYPES.z];var restrictedStringsSplit=" ";var restrictedStringsPossibilitiesSplit=":";var classNameAllowedValues=[TYPES.z,TYPES.s];var booleanAllowedValues=TYPES.b;var numberAllowedValues=TYPES.n;var booleanNullAllowedValues=[TYPES.z,booleanAllowedValues];var callbackAllowedValues=[TYPES.z,TYPES.f];var resizeAllowedValues='n:none b:both h:horizontal v:vertical';var overflowBehaviorAllowedValues='v-h:visible-hidden v-s:visible-scroll s:scroll h:hidden';var scrollbarsVisibilityAllowedValues='v:visible h:hidden a:auto';var scrollbarsAutoHideAllowedValues='n:never s:scroll l:leave m:move';var optionsDefaultsAndTemplate={className:['os-theme-dark',classNameAllowedValues],resize:['none',resizeAllowedValues],sizeAutoCapable:[true,booleanAllowedValues],clipAlways:[true,booleanAllowedValues],normalizeRTL:[true,booleanAllowedValues],paddingAbsolute:[false,booleanAllowedValues],autoUpdate:[null,booleanNullAllowedValues],autoUpdateInterval:[33,numberAllowedValues],nativeScrollbarsOverlaid:{showNativeScrollbars:[false,booleanAllowedValues],initialize:[true,booleanAllowedValues]},overflowBehavior:{x:['scroll',overflowBehaviorAllowedValues],y:['scroll',overflowBehaviorAllowedValues]},scrollbars:{visibility:['auto',scrollbarsVisibilityAllowedValues],autoHide:['never',scrollbarsAutoHideAllowedValues],autoHideDelay:[800,numberAllowedValues],dragScrolling:[true,booleanAllowedValues],clickScrolling:[false,booleanAllowedValues],touchSupport:[true,booleanAllowedValues]},textarea:{dynWidth:[false,booleanAllowedValues],dynHeight:[false,booleanAllowedValues]},callbacks:{onInitialized:[null,callbackAllowedValues],onInitializationWithdrawn:[null,callbackAllowedValues],onDestroyed:[null,callbackAllowedValues],onScrollStart:[null,callbackAllowedValues],onScroll:[null,callbackAllowedValues],onScrollStop:[null,callbackAllowedValues],onOverflowChanged:[null,callbackAllowedValues],onOverflowAmountChanged:[null,callbackAllowedValues],onDirectionChanged:[null,callbackAllowedValues],onContentSizeChanged:[null,callbackAllowedValues],onHostSizeChanged:[null,callbackAllowedValues],onUpdated:[null,callbackAllowedValues]}};var convert=function(template){var recursive=function(obj){var key;var val;var valType;for(key in obj){if(!obj.hasOwnProperty(key))
continue;val=obj[key];valType=framework.type(val);if(valType==TYPES.a)
obj[key]=val[template?1:0];else if(valType==TYPES.o)
obj[key]=recursive(val);}
return obj;};return recursive(framework.extend(true,{},optionsDefaultsAndTemplate));};return{d:convert(),t:convert(true),v:function(obj,template,writeErrors,usePreparedValues,keepForeignProps){var validatedOptions={};var objectCopy=framework.extend(true,{},obj);var checkObjectProps=function(data,template,validatedOptions,prevPropName){for(var prop in template){if(template.hasOwnProperty(prop)&&data.hasOwnProperty(prop)){var isValid=false;var templateValue=template[prop];var templateValueType=framework.type(templateValue);var templateTypes=framework.type(templateValue)!=TYPES.a?[templateValue]:templateValue;var dataValue=data[prop];var dataValueType=framework.type(dataValue);var propPrefix=prevPropName?prevPropName+".":"";var error="The option \""+propPrefix+prop+"\" wasn't set, because";var errorPossibleTypes=[];var errorRestrictedStrings=[];var restrictedStringValuesSplit;var restrictedStringValuesPossibilitiesSplit;var isRestrictedValue;var mainPossibility;var currType;var i;var v;var j;if(templateValueType==TYPES.o){validatedOptions[prop]={};checkObjectProps(dataValue,templateValue,validatedOptions[prop],propPrefix+prop);if(framework.isEmptyObject(dataValue))
delete data[prop];}
else{for(i=0;i<templateTypes.length;i++){currType=templateTypes[i];templateValueType=framework.type(currType);isRestrictedValue=templateValueType==TYPES.s&&framework.inArray(currType,possibleTemplateTypes)===-1;if(isRestrictedValue){errorPossibleTypes.push(TYPES.s);restrictedStringValuesSplit=currType.split(restrictedStringsSplit);errorRestrictedStrings=errorRestrictedStrings.concat(restrictedStringValuesSplit);for(v=0;v<restrictedStringValuesSplit.length;v++){restrictedStringValuesPossibilitiesSplit=restrictedStringValuesSplit[v].split(restrictedStringsPossibilitiesSplit);mainPossibility=restrictedStringValuesPossibilitiesSplit[0];for(j=0;j<restrictedStringValuesPossibilitiesSplit.length;j++){if(dataValue===restrictedStringValuesPossibilitiesSplit[j]){isValid=true;break;}}
if(isValid)
break;}}
else{errorPossibleTypes.push(currType);if(dataValueType===currType){isValid=true;break;}}}
if(isValid){validatedOptions[prop]=isRestrictedValue&&usePreparedValues?mainPossibility:dataValue;}
else if(writeErrors){console.warn(error+" it doesn't accept the type [ "+dataValueType.toUpperCase()+" ] with the value of \""+dataValue+"\".\r\n"+"Accepted types are: [ "+errorPossibleTypes.join(", ").toUpperCase()+" ]."+(errorRestrictedStrings.length>0?"\r\nValid strings are: [ "+errorRestrictedStrings.join(", ").split(restrictedStringsPossibilitiesSplit).join(", ")+" ].":""));}
delete data[prop];}}}};checkObjectProps(objectCopy,template,validatedOptions);if(keepForeignProps)
framework.extend(true,validatedOptions,objectCopy);else if(!framework.isEmptyObject(objectCopy)&&writeErrors)
console.warn("The following options are discarded due to invalidity:\r\n"+JSON.stringify(objectCopy,null,2));return validatedOptions;}}}());function initOverlayScrollbarsStatics(){if(!_pluginsGlobals)
_pluginsGlobals=new OverlayScrollbarsGlobals(_pluginsOptions.d);if(!_pluginsAutoUpdateLoop)
_pluginsAutoUpdateLoop=new OverlayScrollbarsAutoUpdateLoop(_pluginsGlobals);}
function OverlayScrollbarsGlobals(defaultOptions){var _base=this;var strOverflow='overflow';var strHidden='hidden';var strScroll='scroll';var bodyElement=framework('body');var scrollbarDummyElement=framework('<div id="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>');var scrollbarDummyElement0=scrollbarDummyElement[0];var dummyContainerChild=framework(scrollbarDummyElement.children('div').eq(0));var IEBUGFIX=scrollbarDummyElement0[LEXICON.oH];bodyElement.append(scrollbarDummyElement);if(IEBUGFIX===0)
scrollbarDummyElement.hide().show();var nativeScrollbarSize=calcNativeScrollbarSize(scrollbarDummyElement0);var nativeScrollbarIsOverlaid={x:nativeScrollbarSize.x===0,y:nativeScrollbarSize.y===0};framework.extend(_base,{defaultOptions:defaultOptions,autoUpdateLoop:false,autoUpdateRecommended:!compatibility.mO(),nativeScrollbarSize:nativeScrollbarSize,nativeScrollbarIsOverlaid:nativeScrollbarIsOverlaid,nativeScrollbarStyling:(function(){scrollbarDummyElement.addClass('os-viewport-native-scrollbars-invisible');scrollbarDummyElement.css(strOverflow,strHidden).hide().css(strOverflow,strScroll).show();return(scrollbarDummyElement0[LEXICON.oH]-scrollbarDummyElement0[LEXICON.cH])===0&&(scrollbarDummyElement0[LEXICON.oW]-scrollbarDummyElement0[LEXICON.cW])===0;})(),overlayScrollbarDummySize:{x:30,y:30},msie:(function(){var ua=window.navigator.userAgent;var strIndexOf='indexOf';var strSubString='substring';var msie=ua[strIndexOf]('MSIE ');var trident=ua[strIndexOf]('Trident/');var edge=ua[strIndexOf]('Edge/');var rv=ua[strIndexOf]('rv:');var result;var parseInt=window.parseInt;if(msie>0)
result=parseInt(ua[strSubString](msie+5,ua[strIndexOf]('.',msie)),10);else if(trident>0)
result=parseInt(ua[strSubString](rv+3,ua[strIndexOf]('.',rv)),10);else if(edge>0)
result=parseInt(ua[strSubString](edge+5,ua[strIndexOf]('.',edge)),10);return result;})(),cssCalc:(function(){var dummy=document.createElement('div');var props=['calc','-webkit-calc','-moz-calc','-o-calc'];var i;var prop;for(i=0;i<props.length;++i){prop=props[i];dummy[LEXICON.s].cssText='width:'+prop+'(1px);';if(dummy[LEXICON.s].length)
return prop;}
return null;})(),restrictedMeasuring:(function(){scrollbarDummyElement.css(strOverflow,strHidden);var scrollSize={w:scrollbarDummyElement0[LEXICON.sW],h:scrollbarDummyElement0[LEXICON.sH]};scrollbarDummyElement.css(strOverflow,'visible');var scrollSize2={w:scrollbarDummyElement0[LEXICON.sW],h:scrollbarDummyElement0[LEXICON.sH]};return(scrollSize.w-scrollSize2.w)!==0||(scrollSize.h-scrollSize2.h)!==0;})(),rtlScrollBehavior:(function(){scrollbarDummyElement.css({'overflow-y':strHidden,'overflow-x':strScroll,'direction':'rtl'}).scrollLeft(0);var dummyContainerOffset=scrollbarDummyElement.offset();var dummyContainerChildOffset=dummyContainerChild.offset();scrollbarDummyElement.scrollLeft(999);var dummyContainerScrollOffsetAfterScroll=dummyContainerChild.offset();return{i:dummyContainerOffset.left===dummyContainerChildOffset.left,n:dummyContainerChildOffset.left-dummyContainerScrollOffsetAfterScroll.left===0};})(),supportTransform:detectCSSFeature('transform'),supportTransition:detectCSSFeature('transition'),supportPassiveEvents:(function(){var supportsPassive=false;try{window.addEventListener('test',null,Object.defineProperty({},'passive',{get:function(){supportsPassive=true;}}));}catch(e){}
return supportsPassive;})(),supportResizeObserver:!!compatibility.rO(),supportMutationObserver:!!compatibility.mO()});scrollbarDummyElement.removeAttr(LEXICON.s).remove();(function(){if(nativeScrollbarIsOverlaid.x&&nativeScrollbarIsOverlaid.y)
return;function differenceIsBiggerThanOne(valOne,valTwo){var absValOne=Math.abs(valOne);var absValTwo=Math.abs(valTwo);return!(absValOne===absValTwo||absValOne+1===absValTwo||absValOne-1===absValTwo);}
function getWindowDPR(){var dDPI=window.screen.deviceXDPI||0;var sDPI=window.screen.logicalXDPI||1;return window.devicePixelRatio||(dDPI/sDPI);}
var windowWidth=compatibility.wW();var windowHeight=compatibility.wH();var windowDpr=getWindowDPR();var onResize=function(){if(instances().length>0){var newW=compatibility.wW();var newH=compatibility.wH();var deltaW=newW-windowWidth;var deltaH=newH-windowHeight;if(deltaW===0&&deltaH===0)
return;var deltaWRatio=Math.round(newW/(windowWidth/100.0));var deltaHRatio=Math.round(newH/(windowHeight/100.0));var absDeltaW=Math.abs(deltaW);var absDeltaH=Math.abs(deltaH);var absDeltaWRatio=Math.abs(deltaWRatio);var absDeltaHRatio=Math.abs(deltaHRatio);var newDPR=getWindowDPR();var deltaIsBigger=absDeltaW>2&&absDeltaH>2;var difference=!differenceIsBiggerThanOne(absDeltaWRatio,absDeltaHRatio);var dprChanged=newDPR!==windowDpr&&windowDpr>0;var isZoom=deltaIsBigger&&difference&&dprChanged;var oldScrollbarSize=_base.nativeScrollbarSize;var newScrollbarSize;if(isZoom){bodyElement.append(scrollbarDummyElement);newScrollbarSize=_base.nativeScrollbarSize=calcNativeScrollbarSize(scrollbarDummyElement[0]);scrollbarDummyElement.remove();if(oldScrollbarSize.x!==newScrollbarSize.x||oldScrollbarSize.y!==newScrollbarSize.y){framework.each(instances(),function(){if(instances(this))
instances(this).update('zoom');});}}
windowWidth=newW;windowHeight=newH;windowDpr=newDPR;}};framework(window).on('resize',onResize);})();function detectCSSFeature(featurename){var feature=false;var domPrefixes='Webkit Moz ms O'.split(' ');var elm=document.createElement('div');var featurenameCapital=null;var i=0;featurename=featurename.toLowerCase();if(elm[LEXICON.s][featurename]!==undefined)
feature=true;if(!feature){featurenameCapital=featurename.charAt(0).toUpperCase()+featurename.substr(1);for(;i<domPrefixes.length;i++){if(elm[LEXICON.s][domPrefixes[i]+featurenameCapital]!==undefined){feature=true;break;}}}
return feature;}
function calcNativeScrollbarSize(measureElement){return{x:measureElement[LEXICON.oH]-measureElement[LEXICON.cH],y:measureElement[LEXICON.oW]-measureElement[LEXICON.cW]};}}
function OverlayScrollbarsAutoUpdateLoop(globals){var _base=this;var _strAutoUpdate='autoUpdate';var _strAutoUpdateInterval=_strAutoUpdate+'Interval';var _loopingInstances=[];var _loopingInstancesIntervalCache=[];var _loopIsActive=false;var _loopIntervalDefault=33;var _loopInterval=_loopIntervalDefault;var _loopTimeOld=compatibility.now();var _loopID;var loop=function(){if(_loopingInstances.length>0&&_loopIsActive){_loopID=compatibility.rAF()(function(){loop();});var timeNew=compatibility.now();var timeDelta=timeNew-_loopTimeOld;if(timeDelta>_loopInterval){_loopTimeOld=timeNew-(timeDelta%_loopInterval);var lowestInterval=_loopIntervalDefault;for(var i=0;i<_loopingInstances.length;i++){var instance=_loopingInstances[i];if(instance!==undefined){var instanceOptions=instance.options();var instanceAutoUpdateAllowed=instanceOptions[_strAutoUpdate];var instanceAutoUpdateInterval=Math.max(1,instanceOptions[_strAutoUpdateInterval]);var now=compatibility.now();if((instanceAutoUpdateAllowed===true||instanceAutoUpdateAllowed===null)&&(now-_loopingInstancesIntervalCache[i])>instanceAutoUpdateInterval){instance.update('auto');_loopingInstancesIntervalCache[i]=new Date(now+=instanceAutoUpdateInterval);}
lowestInterval=Math.max(1,Math.min(lowestInterval,instanceAutoUpdateInterval));}}
_loopInterval=lowestInterval;}}else{_loopInterval=_loopIntervalDefault;}};_base.add=function(instance){if(framework.inArray(instance,_loopingInstances)===-1){_loopingInstances.push(instance);_loopingInstancesIntervalCache.push(compatibility.now());if(_loopingInstances.length>0&&!_loopIsActive){_loopIsActive=true;globals.autoUpdateLoop=_loopIsActive;loop();}}};_base.remove=function(instance){var index=framework.inArray(instance,_loopingInstances);if(index>-1){_loopingInstancesIntervalCache.splice(index,1);_loopingInstances.splice(index,1);if(_loopingInstances.length===0&&_loopIsActive){_loopIsActive=false;globals.autoUpdateLoop=_loopIsActive;if(_loopID!==undefined){compatibility.cAF()(_loopID);_loopID=-1;}}}};}
function OverlayScrollbarsInstance(pluginTargetElement,options,extensions,globals,autoUpdateLoop){if(!isHTMLElement(pluginTargetElement))
return;if(instances(pluginTargetElement)){var inst=instances(pluginTargetElement);inst.options(options);return inst;}
var _base=new window[PLUGINNAME]();var _nativeScrollbarIsOverlaid;var _overlayScrollbarDummySize;var _rtlScrollBehavior;var _autoUpdateRecommended;var _msieVersion;var _nativeScrollbarStyling;var _cssCalc;var _nativeScrollbarSize;var _supportTransition;var _supportTransform;var _supportPassiveEvents;var _supportResizeObserver;var _restrictedMeasuring;var _initialized;var _destroyed;var _isTextarea;var _isBody;var _documentMixed;var _isBorderBox;var _sizeAutoObserverAdded;var _paddingX;var _paddingY;var _borderX;var _borderY;var _marginX;var _marginY;var _isRTL;var _isSleeping;var _contentBorderSize={};var _scrollHorizontalInfo={};var _scrollVerticalInfo={};var _viewportSize={};var _nativeScrollbarMinSize={};var _scrollStopDelay=175;var _scrollStopTimeoutId;var _strMinusHidden='-hidden';var _strMarginMinus='margin-';var _strPaddingMinus='padding-';var _strBorderMinus='border-';var _strTop='top';var _strRight='right';var _strBottom='bottom';var _strLeft='left';var _strMinMinus='min-';var _strMaxMinus='max-';var _strWidth='width';var _strHeight='height';var _strFloat='float';var _strEmpty='';var _strAuto='auto';var _strScroll='scroll';var _strHundredPercent='100%';var _strX='x';var _strY='y';var _strDot='.';var _strSpace=' ';var _strScrollbar='scrollbar';var _strMinusHorizontal='-horizontal';var _strMinusVertical='-vertical';var _strScrollLeft=_strScroll+'Left';var _strScrollTop=_strScroll+'Top';var _strMouseTouchDownEvent='mousedown touchstart';var _strMouseTouchUpEvent='mouseup touchend touchcancel';var _strMouseTouchMoveEvent='mousemove touchmove';var _strMouseTouchEnter='mouseenter';var _strMouseTouchLeave='mouseleave';var _strKeyDownEvent='keydown';var _strKeyUpEvent='keyup';var _strSelectStartEvent='selectstart';var _strTransitionEndEvent='transitionend webkitTransitionEnd oTransitionEnd';var _strResizeObserverProperty='__overlayScrollbarsRO__';var _cassNamesPrefix='os-';var _classNameHTMLElement=_cassNamesPrefix+'html';var _classNameHostElement=_cassNamesPrefix+'host';var _classNameHostTextareaElement=_classNameHostElement+'-textarea';var _classNameHostScrollbarHorizontalHidden=_classNameHostElement+'-'+_strScrollbar+_strMinusHorizontal+_strMinusHidden;var _classNameHostScrollbarVerticalHidden=_classNameHostElement+'-'+_strScrollbar+_strMinusVertical+_strMinusHidden;var _classNameHostTransition=_classNameHostElement+'-transition';var _classNameHostRTL=_classNameHostElement+'-rtl';var _classNameHostResizeDisabled=_classNameHostElement+'-resize-disabled';var _classNameHostScrolling=_classNameHostElement+'-scrolling';var _classNameHostOverflow=_classNameHostElement+'-overflow';var _classNameHostOverflowX=_classNameHostOverflow+'-x';var _classNameHostOverflowY=_classNameHostOverflow+'-y';var _classNameTextareaElement=_cassNamesPrefix+'textarea';var _classNameTextareaCoverElement=_classNameTextareaElement+'-cover';var _classNamePaddingElement=_cassNamesPrefix+'padding';var _classNameViewportElement=_cassNamesPrefix+'viewport';var _classNameViewportNativeScrollbarsInvisible=_classNameViewportElement+'-native-scrollbars-invisible';var _classNameViewportNativeScrollbarsOverlaid=_classNameViewportElement+'-native-scrollbars-overlaid';var _classNameContentElement=_cassNamesPrefix+'content';var _classNameContentArrangeElement=_cassNamesPrefix+'content-arrange';var _classNameContentGlueElement=_cassNamesPrefix+'content-glue';var _classNameSizeAutoObserverElement=_cassNamesPrefix+'size-auto-observer';var _classNameResizeObserverElement=_cassNamesPrefix+'resize-observer';var _classNameResizeObserverItemElement=_cassNamesPrefix+'resize-observer-item';var _classNameResizeObserverItemFinalElement=_classNameResizeObserverItemElement+'-final';var _classNameTextInherit=_cassNamesPrefix+'text-inherit';var _classNameScrollbar=_cassNamesPrefix+_strScrollbar;var _classNameScrollbarTrack=_classNameScrollbar+'-track';var _classNameScrollbarTrackOff=_classNameScrollbarTrack+'-off';var _classNameScrollbarHandle=_classNameScrollbar+'-handle';var _classNameScrollbarHandleOff=_classNameScrollbarHandle+'-off';var _classNameScrollbarUnusable=_classNameScrollbar+'-unusable';var _classNameScrollbarAutoHidden=_classNameScrollbar+'-'+_strAuto+_strMinusHidden;var _classNameScrollbarCorner=_classNameScrollbar+'-corner';var _classNameScrollbarCornerResize=_classNameScrollbarCorner+'-resize';var _classNameScrollbarCornerResizeB=_classNameScrollbarCornerResize+'-both';var _classNameScrollbarCornerResizeH=_classNameScrollbarCornerResize+_strMinusHorizontal;var _classNameScrollbarCornerResizeV=_classNameScrollbarCornerResize+_strMinusVertical;var _classNameScrollbarHorizontal=_classNameScrollbar+_strMinusHorizontal;var _classNameScrollbarVertical=_classNameScrollbar+_strMinusVertical;var _classNameDragging=_cassNamesPrefix+'dragging';var _classNameThemeNone=_cassNamesPrefix+'theme-none';var _defaultOptions;var _currentOptions;var _currentPreparedOptions;var _extensions={};var _extensionsPrivateMethods="added removed on contract";var _lastUpdateTime;var _swallowedUpdateParams={};var _swallowedUpdateTimeout;var _swallowUpdateLag=42;var _imgs=[];var _windowElement;var _documentElement;var _htmlElement;var _bodyElement;var _targetElement;var _hostElement;var _sizeAutoObserverElement;var _sizeObserverElement;var _contentGlueElement;var _paddingElement;var _viewportElement;var _contentArrangeElement;var _contentElement;var _textareaCoverElement;var _scrollbarCornerElement;var _scrollbarHorizontalElement;var _scrollbarHorizontalTrackElement;var _scrollbarHorizontalHandleElement;var _scrollbarVerticalElement;var _scrollbarVerticalTrackElement;var _scrollbarVerticalHandleElement;var _hostSizeCache;var _contentScrollSizeCache;var _arrangeContentSizeCache;var _hasOverflowCache;var _hideOverflowCache;var _widthAutoCache;var _heightAutoCache;var _cssMaxValueCache;var _cssBoxSizingCache;var _cssPaddingCache;var _cssBorderCache;var _cssMarginCache;var _cssDirectionCache;var _cssDirectionDetectedCache;var _paddingAbsoluteCache;var _clipAlwaysCache;var _contentGlueSizeCache;var _overflowBehaviorCache;var _overflowAmountCache;var _ignoreOverlayScrollbarHidingCache;var _autoUpdateCache;var _sizeAutoCapableCache;var _textareaAutoWrappingCache;var _textareaInfoCache;var _updateAutoHostElementIdCache;var _updateAutoHostElementClassCache;var _updateAutoHostElementStyleCache;var _updateAutoHostElementVisibleCache;var _updateAutoTargetElementRowsCache;var _updateAutoTargetElementColsCache;var _updateAutoTargetElementWrapCache;var _contentElementScrollSizeChangeDetectedCache;var _hostElementSizeChangeDetectedCache;var _scrollbarsVisibilityCache;var _scrollbarsAutoHideCache;var _scrollbarsClickScrollingCache;var _scrollbarsDragScrollingCache;var _resizeCache;var _normalizeRTLCache;var _classNameCache;var _oldClassName;var _textareaDynHeightCache;var _textareaDynWidthCache;var _bodyMinSizeCache;var _viewportScrollSizeCache;var _displayIsHiddenCache;var _mutationObserverContentLag=11;var _mutationObserverHost;var _mutationObserverContent;var _mutationObserverConnected;var _supportMutationObserver;var _textareaKeyDownRestrictedKeyCodes=[112,113,114,115,116,117,118,119,120,121,123,33,34,37,38,39,40,16,17,18,19,20,144];var _textareaKeyDownKeyCodesList=[];var _textareaUpdateIntervalID;var _textareaHasFocus;var _scrollbarsAutoHideTimeoutId;var _scrollbarsAutoHideMoveTimeoutId;var _scrollbarsAutoHideDelay;var _scrollbarsAutoHideNever;var _scrollbarsAutoHideScroll;var _scrollbarsAutoHideMove;var _scrollbarsAutoHideLeave;var _scrollbarsTouchSupport;var _scrollbarsAutoHideFlagScrollAndHovered;var _resizeReconnectMutationObserver;var _resizeNone;var _resizeBoth;var _resizeHorizontal;var _resizeVertical;var _resizeDragStartPosition={};var _resizeDragStartSize={};function addPassiveEventListener(element,eventNames,listener){var events=eventNames.split(_strSpace);for(var i=0;i<events.length;i++)
element[0].addEventListener(events[i],listener,{passive:true});}
function removePassiveEventListener(element,eventNames,listener){var events=eventNames.split(_strSpace);for(var i=0;i<events.length;i++)
element[0].removeEventListener(events[i],listener,{passive:true});}
function addResizeObserver(targetElement,onElementResizedCallback){var constMaximum=3333333;var resizeObserver=compatibility.rO();var strAnimationStartEvent='animationstart mozAnimationStart webkitAnimationStart MSAnimationStart';var strChildNodes='childNodes';var callback=function(){targetElement[_strScrollTop](constMaximum)[_strScrollLeft](_isRTL?_rtlScrollBehavior.n?-constMaximum:_rtlScrollBehavior.i?0:constMaximum:constMaximum);onElementResizedCallback();};if(_supportResizeObserver){var element=targetElement.append(generateDiv(_classNameResizeObserverElement+' observed')).contents()[0];var observer=element[_strResizeObserverProperty]=new resizeObserver(callback);observer.observe(element);}
else{if(_msieVersion>9||!_autoUpdateRecommended){targetElement.prepend(generateDiv(_classNameResizeObserverElement,generateDiv({className:_classNameResizeObserverItemElement,dir:"ltr"},generateDiv(_classNameResizeObserverItemElement,generateDiv(_classNameResizeObserverItemFinalElement))+generateDiv(_classNameResizeObserverItemElement,generateDiv({className:_classNameResizeObserverItemFinalElement,style:'width: 200%; height: 200%'})))));var observerElement=targetElement[0][strChildNodes][0][strChildNodes][0];var shrinkElement=framework(observerElement[strChildNodes][1]);var expandElement=framework(observerElement[strChildNodes][0]);var expandElementChild=framework(expandElement[0][strChildNodes][0]);var widthCache=observerElement[LEXICON.oW];var heightCache=observerElement[LEXICON.oH];var isDirty;var rAFId;var currWidth;var currHeight;var factor=2;var nativeScrollbarSize=globals.nativeScrollbarSize;var reset=function(){expandElement[_strScrollLeft](constMaximum)[_strScrollTop](constMaximum);shrinkElement[_strScrollLeft](constMaximum)[_strScrollTop](constMaximum);};var onResized=function(){rAFId=0;if(!isDirty)
return;widthCache=currWidth;heightCache=currHeight;callback();};var onScroll=function(event){currWidth=observerElement[LEXICON.oW];currHeight=observerElement[LEXICON.oH];isDirty=currWidth!=widthCache||currHeight!=heightCache;if(event&&isDirty&&!rAFId){compatibility.cAF()(rAFId);rAFId=compatibility.rAF()(onResized);}
else if(!event)
onResized();reset();if(event){compatibility.prvD(event);compatibility.stpP(event);}
return false;};var expandChildCSS={};var observerElementCSS={};observerElementCSS[_strTop]=(-((nativeScrollbarSize.y+1)*factor));observerElementCSS[_strRight]=(nativeScrollbarSize.x*-factor);observerElementCSS[_strBottom]=(nativeScrollbarSize.y*-factor);observerElementCSS[_strLeft]=(-((nativeScrollbarSize.x+1)*factor));framework(observerElement).css(observerElementCSS);expandElement.on(_strScroll,onScroll);shrinkElement.on(_strScroll,onScroll);targetElement.on(strAnimationStartEvent,function(){onScroll(false);});expandChildCSS[_strWidth]=constMaximum;expandChildCSS[_strHeight]=constMaximum;expandElementChild.css(expandChildCSS);reset();}
else{var doc=_documentElement[0];var attachEvent=doc.attachEvent;var isIE=_msieVersion!==undefined;if(attachEvent){targetElement.prepend(generateDiv(_classNameResizeObserverElement));findFirst(targetElement,_strDot+_classNameResizeObserverElement)[0].attachEvent('onresize',callback);}
else{var obj=doc.createElement(TYPES.o);obj.setAttribute('tabindex','-1');obj.setAttribute(LEXICON.c,_classNameResizeObserverElement);obj.onload=function(){var wnd=this.contentDocument.defaultView;wnd.addEventListener('resize',callback);wnd.document.documentElement.style.display='none';};obj.type='text/html';if(isIE)
targetElement.prepend(obj);obj.data='about:blank';if(!isIE)
targetElement.prepend(obj);targetElement.on(strAnimationStartEvent,callback);}}}
if(targetElement[0]===_sizeObserverElement[0]){var directionChanged=function(){var dir=_hostElement.css('direction');var css={};var scrollLeftValue=0;var result=false;if(dir!==_cssDirectionDetectedCache){if(dir==='ltr'){css[_strLeft]=0;css[_strRight]=_strAuto;scrollLeftValue=constMaximum;}
else{css[_strLeft]=_strAuto;css[_strRight]=0;scrollLeftValue=_rtlScrollBehavior.n?-constMaximum:_rtlScrollBehavior.i?0:constMaximum;}
_sizeObserverElement.children().eq(0).css(css);targetElement[_strScrollLeft](scrollLeftValue)[_strScrollTop](constMaximum);_cssDirectionDetectedCache=dir;result=true;}
return result;};directionChanged();targetElement.on(_strScroll,function(event){if(directionChanged())
update();compatibility.prvD(event);compatibility.stpP(event);return false;});}}
function removeResizeObserver(targetElement){if(_supportResizeObserver){var element=targetElement.contents()[0];element[_strResizeObserverProperty].disconnect();delete element[_strResizeObserverProperty];}
else{remove(targetElement.children(_strDot+_classNameResizeObserverElement).eq(0));}}
function freezeResizeObserver(targetElement){if(targetElement!==undefined){}}
function unfreezeResizeObserver(targetElement){if(targetElement!==undefined){}}
function mutationObserversConnect(){if(_supportMutationObserver&&!_mutationObserverConnected){_mutationObserverHost.observe(_hostElement[0],{attributes:true,attributeOldValue:true,attributeFilter:[LEXICON.i,LEXICON.c,LEXICON.s]});_mutationObserverContent.observe(_isTextarea?_targetElement[0]:_contentElement[0],{attributes:true,attributeOldValue:true,subtree:!_isTextarea,childList:!_isTextarea,characterData:!_isTextarea,attributeFilter:_isTextarea?['wrap','cols','rows']:[LEXICON.i,LEXICON.c,LEXICON.s]});_mutationObserverConnected=true;}}
function mutationObserversDisconnect(){if(_supportMutationObserver&&_mutationObserverConnected){_mutationObserverHost.disconnect();_mutationObserverContent.disconnect();_mutationObserverConnected=false;}}
function hostOnResized(){if(_isSleeping)
return;var measureElement=_sizeObserverElement[0];var hostSize={w:measureElement[LEXICON.sW],h:measureElement[LEXICON.sH]};if(_initialized){var changed=checkCacheDouble(hostSize,_hostElementSizeChangeDetectedCache);_hostElementSizeChangeDetectedCache=hostSize;if(changed)
update(true,false);}
else{_hostElementSizeChangeDetectedCache=hostSize;}}
function hostOnMouseEnter(){if(_scrollbarsAutoHideLeave)
refreshScrollbarsAutoHide(true);}
function hostOnMouseLeave(){if(_scrollbarsAutoHideLeave&&!_bodyElement.hasClass(_classNameDragging))
refreshScrollbarsAutoHide(false);}
function hostOnMouseMove(){if(_scrollbarsAutoHideMove){refreshScrollbarsAutoHide(true);clearTimeout(_scrollbarsAutoHideMoveTimeoutId);_scrollbarsAutoHideMoveTimeoutId=setTimeout(function(){if(_scrollbarsAutoHideMove&&!_destroyed)
refreshScrollbarsAutoHide(false);},100);}}
function viewportOnScroll(event){if(_isSleeping)
return;if(_scrollStopTimeoutId!==undefined)
clearTimeout(_scrollStopTimeoutId);else{if(_scrollbarsAutoHideScroll||_scrollbarsAutoHideMove)
refreshScrollbarsAutoHide(true);if(!nativeOverlayScrollbarsAreActive())
addClass(_hostElement,_classNameHostScrolling);callCallback("onScrollStart",event);}
refreshScrollbarHandleOffset(true,_viewportElement[_strScrollLeft]());refreshScrollbarHandleOffset(false,_viewportElement[_strScrollTop]());callCallback("onScroll",event);_scrollStopTimeoutId=setTimeout(function(){if(!_destroyed){viewportOnScrollStop();callCallback("onScrollStop",event);}},_scrollStopDelay);}
function viewportOnScrollStop(){clearTimeout(_scrollStopTimeoutId);_scrollStopTimeoutId=undefined;if(_scrollbarsAutoHideScroll||_scrollbarsAutoHideMove)
refreshScrollbarsAutoHide(false);if(!nativeOverlayScrollbarsAreActive())
removeClass(_hostElement,_classNameHostScrolling);}
function textareaOnInput(){textareaUpdate();_base.update(_strAuto);}
function textareaOnKeyDown(event){var keyCode=event.keyCode;if(textareaIsRestrictedKeyCode(keyCode))
return;if(_textareaKeyDownKeyCodesList.length===0){var action=function(){textareaUpdate();_base.update(_strAuto);};action();_textareaUpdateIntervalID=setInterval(action,1000/60);}
if(framework.inArray(keyCode,_textareaKeyDownKeyCodesList)===-1)
_textareaKeyDownKeyCodesList.push(keyCode);}
function textareaOnKeyUp(event){var keyCode=event.keyCode;if(textareaIsRestrictedKeyCode(keyCode))
return;var index=framework.inArray(keyCode,_textareaKeyDownKeyCodesList);if(index>-1)
_textareaKeyDownKeyCodesList.splice(index,1);if(_textareaKeyDownKeyCodesList.length===0){textareaUpdate();_base.update(_strAuto);clearInterval(_textareaUpdateIntervalID);}}
function textareaOnDrop(){setTimeout(function(){if(!_destroyed){textareaUpdate();_base.update(_strAuto);}},50);}
function textareaOnFocus(){_textareaHasFocus=true;}
function textareaOnFocusOut(){_textareaHasFocus=false;clearInterval(_textareaUpdateIntervalID);_textareaKeyDownKeyCodesList=[];textareaUpdate();_base.update(_strAuto);}
function textareaOnScroll(event){_targetElement[_strScrollLeft](_rtlScrollBehavior.i&&_normalizeRTLCache?9999999:0);_targetElement[_strScrollTop](0);compatibility.prvD(event);compatibility.stpP(event);return false;}
function scrollbarCornerOnMouseDown(event){if(_isSleeping)
return;var originalEvent=event.originalEvent||event;var isTouchEvent=originalEvent.touches!==undefined;if(compatibility.mBtn(event)===1||isTouchEvent){if(_mutationObserverConnected){_resizeReconnectMutationObserver=true;mutationObserversDisconnect();}
_resizeDragStartPosition=compatibility.page(event);_resizeDragStartSize.w=_hostElement[0][LEXICON.oW]-(!_isBorderBox?_paddingX:0);_resizeDragStartSize.h=_hostElement[0][LEXICON.oH]-(!_isBorderBox?_paddingY:0);_documentElement.on(_strSelectStartEvent,documentOnSelectStart).on(_strMouseTouchMoveEvent,scrollbarCornerOnResize).on(_strMouseTouchUpEvent,scrollbarCornerOnResized);addClass(_bodyElement,_classNameDragging);if(_scrollbarCornerElement.setCapture)
_scrollbarCornerElement.setCapture();compatibility.prvD(event);compatibility.stpP(event);}}
function scrollbarCornerOnResize(event){var pageOffset=compatibility.page(event);var hostElementCSS={};if(_resizeHorizontal||_resizeBoth)
hostElementCSS[_strWidth]=(_resizeDragStartSize.w+pageOffset.x-_resizeDragStartPosition.x);if(_resizeVertical||_resizeBoth)
hostElementCSS[_strHeight]=(_resizeDragStartSize.h+pageOffset.y-_resizeDragStartPosition.y);_hostElement.css(hostElementCSS);compatibility.stpP(event);}
function scrollbarCornerOnResized(event){var eventIsTrusted=event!==undefined;_documentElement.off(_strSelectStartEvent,documentOnSelectStart).off(_strMouseTouchMoveEvent,scrollbarCornerOnResize).off(_strMouseTouchUpEvent,scrollbarCornerOnResized);removeClass(_bodyElement,_classNameDragging);if(_scrollbarCornerElement.releaseCapture)
_scrollbarCornerElement.releaseCapture();if(eventIsTrusted){if(_resizeReconnectMutationObserver)
mutationObserversConnect();_base.update(_strAuto);}
_resizeReconnectMutationObserver=false;}
function documentOnSelectStart(event){compatibility.prvD(event);return false;}
function imgOnLoad(){update();}
function bodyMinSizeChanged(){var bodyMinSize={};if(_isBody&&_contentArrangeElement){bodyMinSize.w=parseIntToZeroOrNumber(_contentArrangeElement.css(_strMinMinus+_strWidth));bodyMinSize.h=parseIntToZeroOrNumber(_contentArrangeElement.css(_strMinMinus+_strHeight));bodyMinSize.c=checkCacheDouble(bodyMinSize,_bodyMinSizeCache);bodyMinSize.f=true;}
_bodyMinSizeCache=bodyMinSize;return bodyMinSize.c||false;}
function hostClassNamesChanged(oldCassNames,newClassNames){var currClasses=(newClassNames!==undefined&&newClassNames!==null)?newClassNames.split(_strSpace):_strEmpty;var oldClasses=(oldCassNames!==undefined&&oldCassNames!==null)?oldCassNames.split(_strSpace):_strEmpty;if(currClasses===_strEmpty&&oldClasses===_strEmpty)
return false;var diff=getArrayDifferences(oldClasses,currClasses);var changed=false;var oldClassNames=_oldClassName!==undefined&&_oldClassName!==null?_oldClassName.split(_strSpace):[_strEmpty];var currClassNames=_classNameCache!==undefined&&_classNameCache!==null?_classNameCache.split(_strSpace):[_strEmpty];var idx=framework.inArray(_classNameThemeNone,diff);var curr=diff[i];var i;var v;var o;var c;if(idx>-1)
diff.splice(idx,1);for(i=0;i<diff.length;i++){curr=diff[i];if(curr.indexOf(_classNameHostElement)!==0){o=true;c=true;for(v=0;v<oldClassNames.length;v++){if(curr===oldClassNames[v]){o=false;break;}}
for(v=0;v<currClassNames.length;v++){if(curr===currClassNames[v]){c=false;break;}}
if(o&&c){changed=true;break;}}}
return changed;}
function isUnknownMutation(mutation){var attributeName=mutation.attributeName;var mutationTarget=mutation.target;var mutationType=mutation.type;var strClosest='closest';if(mutationTarget===_contentElement[0])
return attributeName===null;if(mutationType==='attributes'&&(attributeName===LEXICON.c||attributeName===LEXICON.s)&&!_isTextarea){if(typeof mutationTarget[strClosest]!=TYPES.f)
return true;if(mutationTarget[strClosest](_strDot+_classNameResizeObserverElement)!==null||mutationTarget[strClosest](_strDot+_classNameScrollbar)!==null||mutationTarget[strClosest](_strDot+_classNameScrollbarCorner)!==null)
return false;}
return true;}
function updateAutoContentSizeChanged(){if(_isSleeping)
return false;var float;var textareaValueLength=_isTextarea&&_widthAutoCache&&!_textareaAutoWrappingCache?_targetElement.val().length:0;var setCSS=!_mutationObserverConnected&&_widthAutoCache&&!_isTextarea;var viewportScrollSize={};var css={};if(_restrictedMeasuring){viewportScrollSize={x:_viewportElement[0][LEXICON.sW],y:_viewportElement[0][LEXICON.sH]}}
if(setCSS){float=_contentElement.css(_strFloat);css[_strFloat]=_isRTL?_strRight:_strLeft;css[_strWidth]=_strAuto;_contentElement.css(css);}
var contentElementScrollSize={w:getContentMeasureElement()[LEXICON.sW]+textareaValueLength,h:getContentMeasureElement()[LEXICON.sH]+textareaValueLength};if(setCSS){css[_strFloat]=float;css[_strWidth]=_strHundredPercent;_contentElement.css(css);}
var bodyMinSizeC=bodyMinSizeChanged();var changed=checkCacheDouble(contentElementScrollSize,_contentElementScrollSizeChangeDetectedCache);var viewportScrollSizeChanged=checkCacheDouble(viewportScrollSize,_viewportScrollSizeCache,_strX,_strY);_contentElementScrollSizeChangeDetectedCache=contentElementScrollSize;_viewportScrollSizeCache=viewportScrollSize;return changed||bodyMinSizeC||viewportScrollSizeChanged;}
function meaningfulAttrsChanged(){if(_isSleeping||_mutationObserverConnected)
return false;var hostElementId=_hostElement.attr(LEXICON.i)||_strEmpty;var hostElementIdChanged=checkCacheSingle(hostElementId,_updateAutoHostElementIdCache);var hostElementClass=_hostElement.attr(LEXICON.c)||_strEmpty;var hostElementClassChanged=checkCacheSingle(hostElementClass,_updateAutoHostElementClassCache);var hostElementStyle=_hostElement.attr(LEXICON.s)||_strEmpty;var hostElementStyleChanged=checkCacheSingle(hostElementStyle,_updateAutoHostElementStyleCache);var hostElementVisible=_hostElement.is(':visible')||_strEmpty;var hostElementVisibleChanged=checkCacheSingle(hostElementVisible,_updateAutoHostElementVisibleCache);var targetElementRows=_isTextarea?(_targetElement.attr('rows')||_strEmpty):_strEmpty;var targetElementRowsChanged=checkCacheSingle(targetElementRows,_updateAutoTargetElementRowsCache);var targetElementCols=_isTextarea?(_targetElement.attr('cols')||_strEmpty):_strEmpty;var targetElementColsChanged=checkCacheSingle(targetElementCols,_updateAutoTargetElementColsCache);var targetElementWrap=_isTextarea?(_targetElement.attr('wrap')||_strEmpty):_strEmpty;var targetElementWrapChanged=checkCacheSingle(targetElementWrap,_updateAutoTargetElementWrapCache);_updateAutoHostElementIdCache=hostElementId;if(hostElementClassChanged)
hostElementClassChanged=hostClassNamesChanged(_updateAutoHostElementClassCache,hostElementClass);_updateAutoHostElementClassCache=hostElementClass;_updateAutoHostElementStyleCache=hostElementStyle;_updateAutoHostElementVisibleCache=hostElementVisible;_updateAutoTargetElementRowsCache=targetElementRows;_updateAutoTargetElementColsCache=targetElementCols;_updateAutoTargetElementWrapCache=targetElementWrap;return hostElementIdChanged||hostElementClassChanged||hostElementStyleChanged||hostElementVisibleChanged||targetElementRowsChanged||targetElementColsChanged||targetElementWrapChanged;}
function isSizeAffectingCSSProperty(propertyName){if(!_initialized)
return true;var flexGrow='flex-grow';var flexShrink='flex-shrink';var flexBasis='flex-basis';var affectingPropsX=[_strWidth,_strMinMinus+_strWidth,_strMaxMinus+_strWidth,_strMarginMinus+_strLeft,_strMarginMinus+_strRight,_strLeft,_strRight,'font-weight','word-spacing',flexGrow,flexShrink,flexBasis];var affectingPropsXContentBox=[_strPaddingMinus+_strLeft,_strPaddingMinus+_strRight,_strBorderMinus+_strLeft+_strWidth,_strBorderMinus+_strRight+_strWidth];var affectingPropsY=[_strHeight,_strMinMinus+_strHeight,_strMaxMinus+_strHeight,_strMarginMinus+_strTop,_strMarginMinus+_strBottom,_strTop,_strBottom,'line-height',flexGrow,flexShrink,flexBasis];var affectingPropsYContentBox=[_strPaddingMinus+_strTop,_strPaddingMinus+_strBottom,_strBorderMinus+_strTop+_strWidth,_strBorderMinus+_strBottom+_strWidth];var _strS='s';var _strVS='v-s';var checkX=_overflowBehaviorCache.x===_strS||_overflowBehaviorCache.x===_strVS;var checkY=_overflowBehaviorCache.y===_strS||_overflowBehaviorCache.y===_strVS;var sizeIsAffected=false;var checkPropertyName=function(arr,name){for(var i=0;i<arr.length;i++){if(arr[i]===name)
return true;}
return false;};if(checkY){sizeIsAffected=checkPropertyName(affectingPropsY,propertyName);if(!sizeIsAffected&&!_isBorderBox)
sizeIsAffected=checkPropertyName(affectingPropsYContentBox,propertyName);}
if(checkX&&!sizeIsAffected){sizeIsAffected=checkPropertyName(affectingPropsX,propertyName);if(!sizeIsAffected&&!_isBorderBox)
sizeIsAffected=checkPropertyName(affectingPropsXContentBox,propertyName);}
return sizeIsAffected;}
function textareaUpdate(){if(_isSleeping)
return;var wrapAttrOff=!_textareaAutoWrappingCache;var minWidth=_viewportSize.w-(!_isBorderBox&&!_paddingAbsoluteCache&&_widthAutoCache?_paddingY+_borderY:0);var minHeight=_viewportSize.h-(!_isBorderBox&&!_paddingAbsoluteCache&&_heightAutoCache?_paddingY+_borderY:0);var css={};var doMeasure=_widthAutoCache||wrapAttrOff;var measureElement=_targetElement[0];var origWidth;var width;var origHeight;var height;css[_strMinMinus+_strWidth]=_strEmpty;css[_strMinMinus+_strHeight]=_strEmpty;css[_strWidth]=_strAuto;_targetElement.css(css);origWidth=measureElement[LEXICON.oW];width=doMeasure?Math.max(origWidth,measureElement[LEXICON.sW]-1):1;width+=(_widthAutoCache?_marginX+(!_isBorderBox?wrapAttrOff?0:_paddingX+_borderX:0):0);css[_strWidth]=_widthAutoCache?width:_strHundredPercent;css[_strHeight]=_strAuto;_targetElement.css(css);origHeight=measureElement[LEXICON.oH];height=Math.max(origHeight,measureElement[LEXICON.sH]-1);css[_strWidth]=width;css[_strHeight]=height;_textareaCoverElement.css(css);css[_strMinMinus+_strWidth]=minWidth+(!_isBorderBox&&_widthAutoCache?_paddingX+_borderX:0);css[_strMinMinus+_strHeight]=minHeight+(!_isBorderBox&&_heightAutoCache?_paddingY+_borderY:0);_targetElement.css(css);return{ow:origWidth,oh:origHeight,dw:width,dh:height};}
function update(hostSizeChanged,contentSizeChanged,force){var now=compatibility.now();var swallow=_swallowUpdateLag>0&&_initialized&&(now-_lastUpdateTime)<_swallowUpdateLag&&(!_heightAutoCache&&!_widthAutoCache);var displayIsHidden=_hostElement.is(':hidden');var displayIsHiddenChanged=checkCacheSingle(displayIsHidden,_displayIsHiddenCache,force);_displayIsHiddenCache=displayIsHidden;clearTimeout(_swallowedUpdateTimeout);if(swallow){_swallowedUpdateParams.h=hostSizeChanged;_swallowedUpdateParams.c=contentSizeChanged;_swallowedUpdateParams.f=force;_swallowedUpdateTimeout=setTimeout(update,_swallowUpdateLag);}
if(_destroyed||swallow||_isSleeping||(_initialized&&!force&&displayIsHidden)||_hostElement.css('display')==='inline')
return;_lastUpdateTime=now;hostSizeChanged=hostSizeChanged||_swallowedUpdateParams.h;contentSizeChanged=contentSizeChanged||_swallowedUpdateParams.c;force=force||_swallowedUpdateParams.f;_swallowedUpdateParams={};hostSizeChanged=hostSizeChanged===undefined?false:hostSizeChanged;contentSizeChanged=contentSizeChanged===undefined?false:contentSizeChanged;force=force===undefined?false:force;if(_nativeScrollbarStyling&&!(_nativeScrollbarIsOverlaid.x&&_nativeScrollbarIsOverlaid.y)){_nativeScrollbarSize.x=0;_nativeScrollbarSize.y=0;}
else{_nativeScrollbarSize=extend(true,{},globals.nativeScrollbarSize);}
_nativeScrollbarMinSize={x:(_nativeScrollbarSize.x+(_nativeScrollbarIsOverlaid.x?0:3))*3,y:(_nativeScrollbarSize.y+(_nativeScrollbarIsOverlaid.y?0:3))*3};freezeResizeObserver(_sizeObserverElement);freezeResizeObserver(_sizeAutoObserverElement);var currScroll={l:_viewportElement[_strScrollLeft](),t:_viewportElement[_strScrollTop]()};var currentPreparedOptionsScrollbars=_currentPreparedOptions.scrollbars;var currentPreparedOptionsTextarea=_currentPreparedOptions.textarea;var scrollbarsVisibility=currentPreparedOptionsScrollbars.visibility;var scrollbarsVisibilityChanged=checkCacheSingle(scrollbarsVisibility,_scrollbarsVisibilityCache,force);var scrollbarsAutoHide=currentPreparedOptionsScrollbars.autoHide;var scrollbarsAutoHideChanged=checkCacheSingle(scrollbarsAutoHide,_scrollbarsAutoHideCache,force);var scrollbarsClickScrolling=currentPreparedOptionsScrollbars.clickScrolling;var scrollbarsClickScrollingChanged=checkCacheSingle(scrollbarsClickScrolling,_scrollbarsClickScrollingCache,force);var scrollbarsDragScrolling=currentPreparedOptionsScrollbars.dragScrolling;var scrollbarsDragScrollingChanged=checkCacheSingle(scrollbarsDragScrolling,_scrollbarsDragScrollingCache,force);var className=_currentPreparedOptions.className;var classNameChanged=checkCacheSingle(className,_classNameCache,force);var resize=_currentPreparedOptions.resize;var resizeChanged=checkCacheSingle(resize,_resizeCache,force)&&!_isBody;var textareaAutoWrapping=_isTextarea?_targetElement.attr('wrap')!=='off':false;var textareaAutoWrappingChanged=checkCacheSingle(textareaAutoWrapping,_textareaAutoWrappingCache,force);var paddingAbsolute=_currentPreparedOptions.paddingAbsolute;var paddingAbsoluteChanged=checkCacheSingle(paddingAbsolute,_paddingAbsoluteCache,force);var clipAlways=_currentPreparedOptions.clipAlways;var clipAlwaysChanged=checkCacheSingle(clipAlways,_clipAlwaysCache,force);var sizeAutoCapable=_currentPreparedOptions.sizeAutoCapable&&!_isBody;var sizeAutoCapableChanged=checkCacheSingle(sizeAutoCapable,_sizeAutoCapableCache,force);var ignoreOverlayScrollbarHiding=_currentPreparedOptions.nativeScrollbarsOverlaid.showNativeScrollbars;var ignoreOverlayScrollbarHidingChanged=checkCacheSingle(ignoreOverlayScrollbarHiding,_ignoreOverlayScrollbarHidingCache);var autoUpdate=_currentPreparedOptions.autoUpdate;var autoUpdateChanged=checkCacheSingle(autoUpdate,_autoUpdateCache);var overflowBehavior=_currentPreparedOptions.overflowBehavior;var overflowBehaviorChanged=checkCacheDouble(overflowBehavior,_overflowBehaviorCache,_strX,_strY,force);var textareaDynWidth=currentPreparedOptionsTextarea.dynWidth;var textareaDynWidthChanged=checkCacheSingle(_textareaDynWidthCache,textareaDynHeight);var textareaDynHeight=currentPreparedOptionsTextarea.dynHeight;var textareaDynHeightChanged=checkCacheSingle(_textareaDynHeightCache,textareaDynHeight);_scrollbarsAutoHideNever=scrollbarsAutoHide==='n';_scrollbarsAutoHideScroll=scrollbarsAutoHide==='s';_scrollbarsAutoHideMove=scrollbarsAutoHide==='m';_scrollbarsAutoHideLeave=scrollbarsAutoHide==='l';_scrollbarsAutoHideDelay=currentPreparedOptionsScrollbars.autoHideDelay;_scrollbarsTouchSupport=currentPreparedOptionsScrollbars.touchSupport;_oldClassName=_classNameCache;_resizeNone=resize==='n';_resizeBoth=resize==='b';_resizeHorizontal=resize==='h';_resizeVertical=resize==='v';_normalizeRTLCache=_currentPreparedOptions.normalizeRTL;ignoreOverlayScrollbarHiding=ignoreOverlayScrollbarHiding&&(_nativeScrollbarIsOverlaid.x&&_nativeScrollbarIsOverlaid.y);_scrollbarsVisibilityCache=scrollbarsVisibility;_scrollbarsAutoHideCache=scrollbarsAutoHide;_scrollbarsClickScrollingCache=scrollbarsClickScrolling;_scrollbarsDragScrollingCache=scrollbarsDragScrolling;_classNameCache=className;_resizeCache=resize;_textareaAutoWrappingCache=textareaAutoWrapping;_paddingAbsoluteCache=paddingAbsolute;_clipAlwaysCache=clipAlways;_sizeAutoCapableCache=sizeAutoCapable;_ignoreOverlayScrollbarHidingCache=ignoreOverlayScrollbarHiding;_autoUpdateCache=autoUpdate;_overflowBehaviorCache=extend(true,{},overflowBehavior);_textareaDynWidthCache=textareaDynWidth;_textareaDynHeightCache=textareaDynHeight;if(classNameChanged){removeClass(_hostElement,_oldClassName+_strSpace+_classNameThemeNone);addClass(_hostElement,className!==undefined&&className!==null&&className.length>0?className:_classNameThemeNone);}
if(autoUpdateChanged){if(autoUpdate===true){mutationObserversDisconnect();autoUpdateLoop.add(_base);}
else if(autoUpdate===null){if(_autoUpdateRecommended){mutationObserversDisconnect();autoUpdateLoop.add(_base);}
else{autoUpdateLoop.remove(_base);mutationObserversConnect();}}
else{autoUpdateLoop.remove(_base);mutationObserversConnect();}}
if(sizeAutoCapableChanged){if(sizeAutoCapable){if(_contentGlueElement===undefined){_contentGlueElement=framework(generateDiv(_classNameContentGlueElement));_paddingElement.before(_contentGlueElement);}
if(_sizeAutoObserverAdded){_sizeAutoObserverElement.show();}
else{_sizeAutoObserverElement=framework(generateDiv(_classNameSizeAutoObserverElement));_contentGlueElement.before(_sizeAutoObserverElement);var oldSize={w:-1,h:-1};addResizeObserver(_sizeAutoObserverElement,function(){var newSize={w:_sizeAutoObserverElement[0][LEXICON.oW],h:_sizeAutoObserverElement[0][LEXICON.oH]};if(checkCacheDouble(newSize,oldSize)){if(_initialized&&(_heightAutoCache&&newSize.h>0)||(_widthAutoCache&&newSize.w>0)){update();}
else if(_initialized&&(!_heightAutoCache&&newSize.h===0)||(!_widthAutoCache&&newSize.w===0)){update();}}
oldSize=newSize;});_sizeAutoObserverAdded=true;if(_cssCalc!==null)
_sizeAutoObserverElement.css(_strHeight,_cssCalc+'(100% + 1px)');}}
else{if(_sizeAutoObserverAdded)
_sizeAutoObserverElement.hide();}}
if(force){_sizeObserverElement.find('*').trigger(_strScroll);if(_sizeAutoObserverAdded)
_sizeAutoObserverElement.find('*').trigger(_strScroll);}
var cssDirection=_hostElement.css('direction');var cssDirectionChanged=checkCacheSingle(cssDirection,_cssDirectionCache,force);var boxSizing=_hostElement.css('box-sizing');var boxSizingChanged=checkCacheSingle(boxSizing,_cssBoxSizingCache,force);var padding={c:force,t:parseIntToZeroOrNumber(_hostElement.css(_strPaddingMinus+_strTop)),r:parseIntToZeroOrNumber(_hostElement.css(_strPaddingMinus+_strRight)),b:parseIntToZeroOrNumber(_hostElement.css(_strPaddingMinus+_strBottom)),l:parseIntToZeroOrNumber(_hostElement.css(_strPaddingMinus+_strLeft))};var sizeAutoObserverElementBCRect;try{sizeAutoObserverElementBCRect=_sizeAutoObserverAdded?_sizeAutoObserverElement[0].getBoundingClientRect():null;}catch(ex){return;}
_isRTL=cssDirection==='rtl';_isBorderBox=(boxSizing==='border-box');var isRTLLeft=_isRTL?_strLeft:_strRight;var isRTLRight=_isRTL?_strRight:_strLeft;var hostElement=_hostElement[0];var paddingElement=_paddingElement[0];var widthAutoResizeDetection=false;var widthAutoObserverDetection=(_sizeAutoObserverAdded&&(_hostElement.css(_strFloat)!=='none'))?(Math.round(sizeAutoObserverElementBCRect.right-sizeAutoObserverElementBCRect.left)===0)&&(!paddingAbsolute?(hostElement[LEXICON.cW]-_paddingX)>0:true):false;if(sizeAutoCapable&&!widthAutoObserverDetection){var tmpCurrHostWidth=hostElement[LEXICON.oW];var tmpCurrContentGlueWidth=_contentGlueElement.css(_strWidth);_contentGlueElement.css(_strWidth,_strAuto);var tmpNewHostWidth=hostElement[LEXICON.oW];_contentGlueElement.css(_strWidth,tmpCurrContentGlueWidth);widthAutoResizeDetection=tmpCurrHostWidth!==tmpNewHostWidth;if(!widthAutoResizeDetection){_contentGlueElement.css(_strWidth,tmpCurrHostWidth+1);tmpNewHostWidth=hostElement[LEXICON.oW];_contentGlueElement.css(_strWidth,tmpCurrContentGlueWidth);widthAutoResizeDetection=tmpCurrHostWidth!==tmpNewHostWidth;}}
var widthAuto=(widthAutoObserverDetection||widthAutoResizeDetection)&&sizeAutoCapable&&!displayIsHidden;var widthAutoChanged=checkCacheSingle(widthAuto,_widthAutoCache,force);var wasWidthAuto=!widthAuto&&_widthAutoCache;var heightAuto=_sizeAutoObserverAdded&&!displayIsHidden?(Math.round(sizeAutoObserverElementBCRect.bottom-sizeAutoObserverElementBCRect.top)===0):false;var heightAutoChanged=checkCacheSingle(heightAuto,_heightAutoCache,force);var wasHeightAuto=!heightAuto&&_heightAutoCache;var strMinusWidth='-'+_strWidth;var updateBorderX=(widthAuto&&_isBorderBox)||!_isBorderBox;var updateBorderY=(heightAuto&&_isBorderBox)||!_isBorderBox;var border={c:force,t:updateBorderY?parseIntToZeroOrNumber(_hostElement.css(_strBorderMinus+_strTop+strMinusWidth)):0,r:updateBorderX?parseIntToZeroOrNumber(_hostElement.css(_strBorderMinus+_strRight+strMinusWidth)):0,b:updateBorderY?parseIntToZeroOrNumber(_hostElement.css(_strBorderMinus+_strBottom+strMinusWidth)):0,l:updateBorderX?parseIntToZeroOrNumber(_hostElement.css(_strBorderMinus+_strLeft+strMinusWidth)):0};var margin={c:force,t:parseIntToZeroOrNumber(_hostElement.css(_strMarginMinus+_strTop)),r:parseIntToZeroOrNumber(_hostElement.css(_strMarginMinus+_strRight)),b:parseIntToZeroOrNumber(_hostElement.css(_strMarginMinus+_strBottom)),l:parseIntToZeroOrNumber(_hostElement.css(_strMarginMinus+_strLeft))};var cssMaxValue={h:String(_hostElement.css(_strMaxMinus+_strHeight)),w:String(_hostElement.css(_strMaxMinus+_strWidth))};var contentElementCSS={};var contentGlueElementCSS={};_paddingX=padding.l+padding.r;_paddingY=padding.t+padding.b;padding.c=checkCacheTRBL(padding,_cssPaddingCache);_borderX=border.l+border.r;_borderY=border.t+border.b;border.c=checkCacheTRBL(border,_cssBorderCache);_marginX=margin.l+margin.r;_marginY=margin.t+margin.b;margin.c=checkCacheTRBL(margin,_cssMarginCache);cssMaxValue.ih=parseIntToZeroOrNumber(cssMaxValue.h);cssMaxValue.iw=parseIntToZeroOrNumber(cssMaxValue.w);cssMaxValue.ch=cssMaxValue.h.indexOf('px')>-1;cssMaxValue.cw=cssMaxValue.w.indexOf('px')>-1;cssMaxValue.c=checkCacheDouble(cssMaxValue,_cssMaxValueCache,force);_cssDirectionCache=cssDirection;_cssBoxSizingCache=boxSizing;_widthAutoCache=widthAuto;_heightAutoCache=heightAuto;_cssPaddingCache=padding;_cssBorderCache=border;_cssMarginCache=margin;_cssMaxValueCache=cssMaxValue;if(cssDirectionChanged&&_sizeAutoObserverAdded)
_sizeAutoObserverElement.css(_strFloat,isRTLRight);if(padding.c||cssDirectionChanged||paddingAbsoluteChanged||widthAutoChanged||heightAutoChanged||boxSizingChanged||sizeAutoCapableChanged){var paddingElementCSS={};var textareaCSS={};setTopRightBottomLeft(contentGlueElementCSS,_strMarginMinus,[-padding.t,-padding.r,-padding.b,-padding.l]);if(paddingAbsolute){setTopRightBottomLeft(paddingElementCSS,_strEmpty,[padding.t,padding.r,padding.b,padding.l]);if(_isTextarea)
setTopRightBottomLeft(textareaCSS,_strPaddingMinus);else
setTopRightBottomLeft(contentElementCSS,_strPaddingMinus);}
else{setTopRightBottomLeft(paddingElementCSS,_strEmpty);if(_isTextarea)
setTopRightBottomLeft(textareaCSS,_strPaddingMinus,[padding.t,padding.r,padding.b,padding.l]);else
setTopRightBottomLeft(contentElementCSS,_strPaddingMinus,[padding.t,padding.r,padding.b,padding.l]);}
_paddingElement.css(paddingElementCSS);_targetElement.css(textareaCSS);}
_viewportSize={w:paddingElement[LEXICON.oW],h:paddingElement[LEXICON.oH]};var textareaSize=_isTextarea?textareaUpdate():false;if(heightAuto&&(heightAutoChanged||paddingAbsoluteChanged||boxSizingChanged||cssMaxValue.c||padding.c||border.c)){if(cssMaxValue.cw)
contentElementCSS[_strMaxMinus+_strHeight]=(cssMaxValue.ch?(cssMaxValue.ih-(paddingAbsolute?_paddingY:0)+(_isBorderBox?-_borderY:_paddingY)):_strEmpty);contentElementCSS[_strHeight]=_strAuto;}else if(heightAutoChanged||paddingAbsoluteChanged){contentElementCSS[_strMaxMinus+_strHeight]=_strEmpty;contentElementCSS[_strHeight]=_strHundredPercent;}
if(widthAuto&&(widthAutoChanged||paddingAbsoluteChanged||boxSizingChanged||cssMaxValue.c||padding.c||border.c||cssDirectionChanged)){if(cssMaxValue.cw)
contentElementCSS[_strMaxMinus+_strWidth]=(cssMaxValue.cw?(cssMaxValue.iw-(paddingAbsolute?_paddingX:0)+(_isBorderBox?-_borderX:_paddingX))+(_nativeScrollbarIsOverlaid.y?_overlayScrollbarDummySize.y:0):_strEmpty);contentElementCSS[_strWidth]=_strAuto;contentGlueElementCSS[_strMaxMinus+_strWidth]=_strHundredPercent;}else if(widthAutoChanged||paddingAbsoluteChanged){contentElementCSS[_strMaxMinus+_strWidth]=_strEmpty;contentElementCSS[_strWidth]=_strHundredPercent;contentElementCSS[_strFloat]=_strEmpty;contentGlueElementCSS[_strMaxMinus+_strWidth]=_strEmpty;}
if(widthAuto){if(!cssMaxValue.cw)
contentElementCSS[_strMaxMinus+_strWidth]=_strEmpty;contentGlueElementCSS[_strWidth]=_isTextarea&&textareaDynWidth?textareaSize.dw:_strAuto;contentElementCSS[_strWidth]=_strAuto;contentElementCSS[_strFloat]=isRTLRight;}
if(heightAuto){if(!cssMaxValue.ch)
contentElementCSS[_strMaxMinus+_strHeight]=_strEmpty;contentGlueElementCSS[_strHeight]=_isTextarea?textareaDynHeight?textareaSize.dh:_strAuto:_contentElement[0][LEXICON.cH];}
if(sizeAutoCapable)
_contentGlueElement.css(contentGlueElementCSS);_contentElement.css(contentElementCSS);contentElementCSS={};contentGlueElementCSS={};_hasOverflowCache=_hasOverflowCache||{x:false,y:false};if(hostSizeChanged||contentSizeChanged||cssDirectionChanged||boxSizingChanged||paddingAbsoluteChanged||widthAutoChanged||widthAuto||heightAutoChanged||heightAuto||cssMaxValue.c||ignoreOverlayScrollbarHidingChanged||overflowBehaviorChanged||clipAlwaysChanged||resizeChanged||scrollbarsVisibilityChanged||textareaDynWidthChanged||textareaDynHeightChanged||textareaAutoWrappingChanged||paddingAbsoluteChanged||textareaDynWidthChanged||textareaDynHeightChanged||force){var strOverflow='overflow';var strOverflowX=strOverflow+'-x';var strOverflowY=strOverflow+'-y';var strHidden='hidden';var strVisible='visible';var hideOverflow4CorrectMeasuring=_restrictedMeasuring?(_nativeScrollbarIsOverlaid.x||_nativeScrollbarIsOverlaid.y)||(_viewportSize.w<_nativeScrollbarMinSize.y||_viewportSize.h<_nativeScrollbarMinSize.x)||heightAuto||displayIsHiddenChanged:heightAuto;var viewportElementResetCSS={};var resetXTmp=_hasOverflowCache.y&&_hideOverflowCache.ys&&!ignoreOverlayScrollbarHiding?(_nativeScrollbarIsOverlaid.y?_viewportElement.css(isRTLLeft):-_nativeScrollbarSize.y):0;var resetBottomTmp=_hasOverflowCache.x&&_hideOverflowCache.xs&&!ignoreOverlayScrollbarHiding?(_nativeScrollbarIsOverlaid.x?_viewportElement.css(_strBottom):-_nativeScrollbarSize.x):0;setTopRightBottomLeft(viewportElementResetCSS,_strEmpty);_viewportElement.css(viewportElementResetCSS);if(hideOverflow4CorrectMeasuring)
_contentElement.css(strOverflow,strHidden);var contentMeasureElement=getContentMeasureElement();var contentMeasureElementGuaranty=_restrictedMeasuring&&!hideOverflow4CorrectMeasuring?_viewportElement[0]:contentMeasureElement;var clientSize={w:contentMeasureElement[LEXICON.cW],h:contentMeasureElement[LEXICON.cH]};var scrollSize={w:Math.max(contentMeasureElement[LEXICON.sW],contentMeasureElementGuaranty[LEXICON.sW]),h:Math.max(contentMeasureElement[LEXICON.sH],contentMeasureElementGuaranty[LEXICON.sH])};var contentClientSize={w:_isTextarea&&textareaSize&&!textareaDynWidth?textareaSize.ow:widthAuto?clientSize.w:scrollSize.w,h:_isTextarea&&textareaSize&&!textareaDynHeight?textareaSize.oh:heightAuto?clientSize.h:scrollSize.h};viewportElementResetCSS[_strBottom]=wasHeightAuto?_strEmpty:resetBottomTmp;viewportElementResetCSS[isRTLLeft]=wasWidthAuto?_strEmpty:resetXTmp;_viewportElement.css(viewportElementResetCSS);_viewportSize={w:paddingElement[LEXICON.oW],h:paddingElement[LEXICON.oH]};var hostSize={w:hostElement[LEXICON.cW],h:hostElement[LEXICON.cH]};var contentGlueSize={w:Math.max(contentClientSize.w+(paddingAbsolute?_paddingX:0),hostSize.w-_paddingX)-(textareaDynWidth?(_isTextarea&&widthAuto?_marginX+(!_isBorderBox?_paddingX+_borderX:0):0):0),h:Math.max(contentClientSize.h+(paddingAbsolute?_paddingY:0),hostSize.h-_paddingY)};contentGlueSize.c=checkCacheDouble(contentGlueSize,_contentGlueSizeCache,force);_contentGlueSizeCache=contentGlueSize;if(sizeAutoCapable){if(contentGlueSize.c||(heightAuto||widthAuto)){contentGlueElementCSS[_strWidth]=contentGlueSize.w;contentGlueElementCSS[_strHeight]=contentGlueSize.h;}
var maxWidth=contentGlueElementCSS[_strWidth]+(_isBorderBox?_borderX:-_paddingX);var maxHeight=contentGlueElementCSS[_strHeight]+(_isBorderBox?_borderY:-_paddingX);var textareaCoverCSS={};if(!widthAuto||(!widthAuto&&border.c))
contentGlueElementCSS[_strWidth]=hostSize.w-(_isBorderBox?0:_paddingX+_borderX)-1-_marginX;if(!heightAuto||(!heightAuto&&border.c))
contentGlueElementCSS[_strHeight]=hostSize.h-(_isBorderBox?0:_paddingY+_borderY)-1-_marginY;if(cssMaxValue.cw&&cssMaxValue.iw===maxWidth)
contentGlueElementCSS[_strWidth]=maxWidth+(_isBorderBox?0:_paddingX)+1;if(cssMaxValue.ch&&cssMaxValue.ih===maxHeight)
contentGlueElementCSS[_strHeight]=maxHeight+(_isBorderBox?0:_paddingY)+1;if(widthAuto&&(clientSize.w<_viewportSize.w||_isTextarea&&!textareaAutoWrapping)&&_paddingX===0){if(_isTextarea)
textareaCoverCSS[_strWidth]=parseIntToZeroOrNumber(_textareaCoverElement.css(_strWidth))-1;contentGlueElementCSS[_strWidth]-=1;}
if(heightAuto&&(clientSize.h<_viewportSize.h||_isTextarea)&&_paddingY===0){if(_isTextarea)
textareaCoverCSS[_strHeight]=parseIntToZeroOrNumber(_textareaCoverElement.css(_strHeight))-1;contentGlueElementCSS[_strHeight]-=1;}
if(contentClientSize.h>0){contentGlueElementCSS[_strWidth]=Math.max(1,contentGlueElementCSS[_strWidth]);contentGlueElementCSS[_strHeight]=Math.max(1,contentGlueElementCSS[_strHeight]);}
if(_isTextarea)
_textareaCoverElement.css(textareaCoverCSS);_contentGlueElement.css(contentGlueElementCSS);}
if(widthAuto)
contentElementCSS[_strWidth]=_strHundredPercent;if(widthAuto&&!_isBorderBox&&!_mutationObserverConnected)
contentElementCSS[_strFloat]='none';_contentElement.css(contentElementCSS);contentElementCSS={};var contentBCRect=contentMeasureElement.getBoundingClientRect();var contentScrollSize={w:Math.max(contentMeasureElement[LEXICON.sW],contentMeasureElementGuaranty[LEXICON.sW]),h:Math.max(contentMeasureElement[LEXICON.sH],contentMeasureElementGuaranty[LEXICON.sH])};if(hideOverflow4CorrectMeasuring)
_contentElement.css(strOverflow,_strEmpty);if(contentBCRect.width){var contentBCRectW=contentBCRect.width;var contentBCRectH=contentBCRect.height;var contentBCRectMargin=0.001;contentScrollSize.w+=parseIntToZeroOrNumber(contentBCRectW+contentBCRectMargin)-contentBCRectW;contentScrollSize.h+=parseIntToZeroOrNumber(contentBCRectH+contentBCRectMargin)-contentBCRectH;}
contentScrollSize.c=contentSizeChanged=checkCacheDouble(contentScrollSize,_contentScrollSizeCache,force);_contentScrollSizeCache=contentScrollSize;hostSize={w:hostElement[LEXICON.cW],h:hostElement[LEXICON.cH]};hostSizeChanged=checkCacheDouble(hostSize,_hostSizeCache);_hostSizeCache=hostSize;var overflowBehaviorIsVS={x:overflowBehavior.x==='v-s',y:overflowBehavior.y==='v-s'};var overflowBehaviorIsVH={x:overflowBehavior.x==='v-h',y:overflowBehavior.y==='v-h'};var overflowBehaviorIsS={x:overflowBehavior.x==='s',y:overflowBehavior.y==='s'};var overflowAmount={x:Math.max(0,Math.round((contentScrollSize.w-hostSize.w+(paddingAbsolute?_paddingX:0))*100)/100),y:Math.max(0,Math.round((contentScrollSize.h-hostSize.h+(paddingAbsolute?_paddingY:0))*100)/100)};var hideOverflowForceTextarea=_isTextarea&&(_viewportSize.w===0||_viewportSize.h===0);if(hideOverflowForceTextarea){overflowAmount.x=0;overflowAmount.y=0;}
var hasOverflow={x:overflowAmount.x>0,y:overflowAmount.y>0};var hideOverflow={x:hasOverflow.x,y:hasOverflow.y};if(overflowBehaviorIsVS.x||overflowBehaviorIsVH.x)
hideOverflow.x=(hasOverflow.y&&!overflowBehaviorIsVS.y&&!overflowBehaviorIsVH.y);if(overflowBehaviorIsVS.y||overflowBehaviorIsVH.y)
hideOverflow.y=(hasOverflow.x&&!overflowBehaviorIsVS.x&&!overflowBehaviorIsVH.x);hideOverflow.xs=hideOverflow.x?(overflowBehaviorIsS.x||overflowBehaviorIsVS.x):false;hideOverflow.ys=hideOverflow.y?(overflowBehaviorIsS.y||overflowBehaviorIsVS.y):false;var canScroll={x:hasOverflow.x&&hideOverflow.xs,y:hasOverflow.y&&hideOverflow.ys};var previousOverflow=_overflowAmountCache;overflowAmount.c=checkCacheDouble(overflowAmount,_overflowAmountCache,_strX,_strY,force);_overflowAmountCache=overflowAmount;hasOverflow.c=checkCacheDouble(hasOverflow,_hasOverflowCache,_strX,_strY,force);_hasOverflowCache=hasOverflow;hideOverflow.c=checkCacheDouble(hideOverflow,_hideOverflowCache,_strX,_strY,force);_hideOverflowCache=hideOverflow;if(_nativeScrollbarIsOverlaid.x||_nativeScrollbarIsOverlaid.y){var borderDesign='px solid transparent';var contentArrangeElementCSS={};var arrangeContent={};var arrangeChanged=force;if(hasOverflow.x||hasOverflow.y){arrangeContent.w=_nativeScrollbarIsOverlaid.y&&hasOverflow.y?contentScrollSize.w+_overlayScrollbarDummySize.y:_strEmpty;arrangeContent.h=_nativeScrollbarIsOverlaid.x&&hasOverflow.x?contentScrollSize.h+_overlayScrollbarDummySize.x:_strEmpty;arrangeChanged=checkCacheSingle(arrangeContent,_arrangeContentSizeCache,force);_arrangeContentSizeCache=arrangeContent;}
if(hasOverflow.c||hideOverflow.c||contentScrollSize.c||cssDirectionChanged||widthAutoChanged||heightAutoChanged||widthAuto||heightAuto||ignoreOverlayScrollbarHidingChanged){contentElementCSS[_strMarginMinus+isRTLRight]=contentElementCSS[_strBorderMinus+isRTLRight]=_strEmpty;if(_nativeScrollbarIsOverlaid.x&&hasOverflow.x&&hideOverflow.xs){contentElementCSS[_strMarginMinus+_strBottom]=heightAuto?(ignoreOverlayScrollbarHiding?_strEmpty:_overlayScrollbarDummySize.x):_strEmpty;contentElementCSS[_strBorderMinus+_strBottom]=(!heightAuto&&!ignoreOverlayScrollbarHiding)?(_overlayScrollbarDummySize.x+borderDesign):_strEmpty;}
else{arrangeContent.h=contentElementCSS[_strMarginMinus+_strBottom]=contentElementCSS[_strBorderMinus+_strBottom]=_strEmpty;arrangeChanged=true;}
if(_nativeScrollbarIsOverlaid.y&&hasOverflow.y&&hideOverflow.ys){contentElementCSS[_strMarginMinus+isRTLLeft]=widthAuto?(ignoreOverlayScrollbarHiding?_strEmpty:_overlayScrollbarDummySize.y):_strEmpty;contentElementCSS[_strBorderMinus+isRTLLeft]=(!ignoreOverlayScrollbarHiding)?(_overlayScrollbarDummySize.y+borderDesign):_strEmpty;}
else{arrangeContent.w=contentElementCSS[_strMarginMinus+isRTLLeft]=contentElementCSS[_strBorderMinus+isRTLLeft]=_strEmpty;arrangeChanged=true;}}
if(ignoreOverlayScrollbarHiding){arrangeContent.w=arrangeContent.h=_strEmpty;arrangeChanged=true;}
if(arrangeChanged){contentArrangeElementCSS[_strWidth]=hideOverflow.y?arrangeContent.w:_strEmpty;contentArrangeElementCSS[_strHeight]=hideOverflow.x?arrangeContent.h:_strEmpty;if(!_contentArrangeElement){_contentArrangeElement=framework(generateDiv(_classNameContentArrangeElement));_viewportElement.prepend(_contentArrangeElement);}
_contentArrangeElement.css(contentArrangeElementCSS);}
_contentElement.css(contentElementCSS);}
var viewportElementCSS={};var paddingElementCSS={};if(hostSizeChanged||hasOverflow.c||hideOverflow.c||contentScrollSize.c||overflowBehaviorChanged||boxSizingChanged||ignoreOverlayScrollbarHidingChanged||cssDirectionChanged||clipAlwaysChanged||heightAutoChanged){viewportElementCSS[isRTLRight]=_strEmpty;var resetScrollbarHidingX=function(){viewportElementCSS[_strBottom]=_strEmpty;_contentBorderSize.h=0;};var resetScrollbarHidingY=function(){viewportElementCSS[isRTLLeft]=_strEmpty;_contentBorderSize.w=0;};if(hasOverflow.x&&hideOverflow.xs){viewportElementCSS[strOverflowX]=_strScroll;if(!ignoreOverlayScrollbarHiding){viewportElementCSS[_strBottom]=-(_nativeScrollbarIsOverlaid.x?_overlayScrollbarDummySize.x:_nativeScrollbarSize.x);_contentBorderSize.h=_nativeScrollbarIsOverlaid.x?_overlayScrollbarDummySize.y:0;}
else
resetScrollbarHidingX();}else{viewportElementCSS[strOverflowX]=_strEmpty;resetScrollbarHidingX();}
if(hasOverflow.y&&hideOverflow.ys){viewportElementCSS[strOverflowY]=_strScroll;if(!ignoreOverlayScrollbarHiding){viewportElementCSS[isRTLLeft]=-(_nativeScrollbarIsOverlaid.y?_overlayScrollbarDummySize.y:_nativeScrollbarSize.y);_contentBorderSize.w=_nativeScrollbarIsOverlaid.y?_overlayScrollbarDummySize.x:0;}
else
resetScrollbarHidingY();}else{viewportElementCSS[strOverflowY]=_strEmpty;resetScrollbarHidingY();}
if((_viewportSize.h<_nativeScrollbarMinSize.x||_viewportSize.w<_nativeScrollbarMinSize.y)&&((hasOverflow.x&&hideOverflow.x&&!_nativeScrollbarIsOverlaid.x)||(hasOverflow.y&&hideOverflow.y&&!_nativeScrollbarIsOverlaid.y))){viewportElementCSS[_strPaddingMinus+_strTop]=_nativeScrollbarMinSize.x;viewportElementCSS[_strMarginMinus+_strTop]=-_nativeScrollbarMinSize.x;viewportElementCSS[_strPaddingMinus+isRTLRight]=_nativeScrollbarMinSize.y;viewportElementCSS[_strMarginMinus+isRTLRight]=-_nativeScrollbarMinSize.y;}
else{viewportElementCSS[_strPaddingMinus+_strTop]=viewportElementCSS[_strMarginMinus+_strTop]=viewportElementCSS[_strPaddingMinus+isRTLRight]=viewportElementCSS[_strMarginMinus+isRTLRight]=_strEmpty;}
viewportElementCSS[_strPaddingMinus+isRTLLeft]=viewportElementCSS[_strMarginMinus+isRTLLeft]=_strEmpty;if((hasOverflow.x&&hideOverflow.x)||(hasOverflow.y&&hideOverflow.y)||hideOverflowForceTextarea){if(_isTextarea&&hideOverflowForceTextarea){paddingElementCSS[strOverflowX]=paddingElementCSS[strOverflowY]=strHidden;}}
else{if(!clipAlways||(overflowBehaviorIsVH.x||overflowBehaviorIsVS.x||overflowBehaviorIsVH.y||overflowBehaviorIsVS.y)){if(_isTextarea){paddingElementCSS[strOverflowX]=paddingElementCSS[strOverflowY]=_strEmpty;}
viewportElementCSS[strOverflowX]=viewportElementCSS[strOverflowY]=strVisible;}}
_paddingElement.css(paddingElementCSS);_viewportElement.css(viewportElementCSS);viewportElementCSS={};if((hasOverflow.c||boxSizingChanged||widthAutoChanged||heightAutoChanged)&&!(_nativeScrollbarIsOverlaid.x&&_nativeScrollbarIsOverlaid.y)){var element=_contentElement[0];var elementStyle=element[LEXICON.s];var dump;elementStyle.webkitTransform='scale(1)';elementStyle.display='run-in';dump=element[LEXICON.oH];elementStyle.display=_strEmpty;elementStyle.webkitTransform=_strEmpty;}
if(ignoreOverlayScrollbarHidingChanged&&ignoreOverlayScrollbarHiding){}}
contentElementCSS={};if(cssDirectionChanged||widthAutoChanged||heightAutoChanged){if(_isRTL&&widthAuto){var floatTmp=_contentElement.css(_strFloat);var posLeftWithoutFloat=Math.round(_contentElement.css(_strFloat,_strEmpty).css(_strLeft,_strEmpty).position().left);_contentElement.css(_strFloat,floatTmp);var posLeftWithFloat=Math.round(_contentElement.position().left);if(posLeftWithoutFloat!==posLeftWithFloat)
contentElementCSS[_strLeft]=posLeftWithoutFloat;}
else{contentElementCSS[_strLeft]=_strEmpty;}}
_contentElement.css(contentElementCSS);var scrollbarsVisibilityVisible=scrollbarsVisibility==='v';var scrollbarsVisibilityHidden=scrollbarsVisibility==='h';var scrollbarsVisibilityAuto=scrollbarsVisibility==='a';var showScrollbarH=compatibility.bind(refreshScrollbarAppearance,0,true,true,canScroll.x);var showScrollbarV=compatibility.bind(refreshScrollbarAppearance,0,false,true,canScroll.y);var hideScrollbarH=compatibility.bind(refreshScrollbarAppearance,0,true,false,canScroll.x);var hideScrollbarV=compatibility.bind(refreshScrollbarAppearance,0,false,false,canScroll.y);if(hideOverflow.x||hideOverflow.y)
addClass(_hostElement,_classNameHostOverflow);else
removeClass(_hostElement,_classNameHostOverflow);if(hideOverflow.x)
addClass(_hostElement,_classNameHostOverflowX);else
removeClass(_hostElement,_classNameHostOverflowX);if(hideOverflow.y)
addClass(_hostElement,_classNameHostOverflowY);else
removeClass(_hostElement,_classNameHostOverflowY);if(cssDirectionChanged){if(_isRTL)
addClass(_hostElement,_classNameHostRTL);else
removeClass(_hostElement,_classNameHostRTL);}
if(_isBody)
addClass(_hostElement,_classNameHostResizeDisabled);if(resizeChanged){var addCornerEvents=function(){_scrollbarCornerElement.on(_strMouseTouchDownEvent,scrollbarCornerOnMouseDown);};var removeCornerEvents=function(){_scrollbarCornerElement.off(_strMouseTouchDownEvent,scrollbarCornerOnMouseDown);};if(_resizeNone){addClass(_hostElement,_classNameHostResizeDisabled);removeClass(_scrollbarCornerElement,[_classNameScrollbarCornerResize,_classNameScrollbarCornerResizeB,_classNameScrollbarCornerResizeH,_classNameScrollbarCornerResizeV].join(_strSpace));removeCornerEvents();}
else{removeClass(_hostElement,_classNameHostResizeDisabled);addClass(_scrollbarCornerElement,_classNameScrollbarCornerResize);if(_resizeBoth)
addClass(_scrollbarCornerElement,_classNameScrollbarCornerResizeB);else if(_resizeHorizontal)
addClass(_scrollbarCornerElement,_classNameScrollbarCornerResizeH);else if(_resizeVertical)
addClass(_scrollbarCornerElement,_classNameScrollbarCornerResizeV);removeCornerEvents();addCornerEvents();}}
if(scrollbarsVisibilityChanged||overflowBehaviorChanged||hideOverflow.c||hasOverflow.c||ignoreOverlayScrollbarHidingChanged){if(ignoreOverlayScrollbarHiding){if(ignoreOverlayScrollbarHidingChanged){removeClass(_hostElement,_classNameHostScrolling);if(ignoreOverlayScrollbarHiding){hideScrollbarH();hideScrollbarV();}}}
else if(scrollbarsVisibilityAuto){if(canScroll.x)
showScrollbarH();else
hideScrollbarH();if(canScroll.y)
showScrollbarV();else
hideScrollbarV();}
else if(scrollbarsVisibilityVisible){showScrollbarH();showScrollbarV();}
else if(scrollbarsVisibilityHidden){hideScrollbarH();hideScrollbarV();}}
if(scrollbarsAutoHideChanged||ignoreOverlayScrollbarHidingChanged){var addMouseTouchEvents=function(move){if(_supportPassiveEvents){if(move)
addPassiveEventListener(_hostElement,_strMouseTouchMoveEvent,hostOnMouseMove);else{addPassiveEventListener(_hostElement,_strMouseTouchEnter,hostOnMouseEnter);addPassiveEventListener(_hostElement,_strMouseTouchLeave,hostOnMouseLeave);}}
else{if(move)
_hostElement.on(_strMouseTouchMoveEvent,hostOnMouseMove);else{_hostElement.on(_strMouseTouchEnter,hostOnMouseEnter).on(_strMouseTouchLeave,hostOnMouseLeave);}}
if(!_initialized)
_hostElement.one("mouseover",hostOnMouseEnter);};var removeMouseTouchEvents=function(){if(_supportPassiveEvents){removePassiveEventListener(_hostElement,_strMouseTouchMoveEvent,hostOnMouseMove);removePassiveEventListener(_hostElement,_strMouseTouchEnter,hostOnMouseEnter);removePassiveEventListener(_hostElement,_strMouseTouchLeave,hostOnMouseLeave);}
else{_hostElement.off(_strMouseTouchMoveEvent,hostOnMouseMove).off(_strMouseTouchEnter,hostOnMouseEnter).off(_strMouseTouchLeave,hostOnMouseLeave);}};if(_scrollbarsAutoHideLeave||_scrollbarsAutoHideMove){removeMouseTouchEvents();addMouseTouchEvents(_scrollbarsAutoHideMove);}
else{removeMouseTouchEvents();}
if(_scrollbarsAutoHideNever)
refreshScrollbarsAutoHide(true);else
refreshScrollbarsAutoHide(false,true);}
if(hostSizeChanged||overflowAmount.c||heightAutoChanged||widthAutoChanged||resizeChanged||boxSizingChanged||paddingAbsoluteChanged||ignoreOverlayScrollbarHidingChanged||cssDirectionChanged){refreshScrollbarHandleLength(true);refreshScrollbarHandleOffset(true,currScroll.l);refreshScrollbarHandleLength(false);refreshScrollbarHandleOffset(false,currScroll.t);}
if(scrollbarsClickScrollingChanged)
refreshScrollbarsInteractive(true,scrollbarsClickScrolling);if(scrollbarsDragScrollingChanged)
refreshScrollbarsInteractive(false,scrollbarsDragScrolling);if(_isTextarea&&contentSizeChanged){var textareaInfo=getTextareaInfo();if(textareaInfo){var textareaRowsChanged=_textareaInfoCache===undefined?true:textareaInfo.rows!==_textareaInfoCache.rows;var cursorRow=textareaInfo.cR;var cursorCol=textareaInfo.cC;var widestRow=textareaInfo.w;var lastRow=textareaInfo.r;var lastCol=textareaInfo.c;var cursorPos=textareaInfo.p;var cursorMax=textareaInfo.m;var cursorIsLastPosition=(cursorMax===cursorPos&&_textareaHasFocus);var doScroll={x:(!textareaAutoWrapping&&(cursorCol===lastCol&&cursorRow===widestRow))?_overflowAmountCache.x:-1,y:(textareaAutoWrapping?cursorIsLastPosition||textareaRowsChanged&&(previousOverflow!==undefined?(currScroll.t===previousOverflow.y):false):(cursorIsLastPosition||textareaRowsChanged)&&cursorRow===lastRow)?_overflowAmountCache.y:-1};var doScrollX=doScroll.x>-1;var doScrollY=doScroll.y>-1;if(doScrollX||doScrollY){if(doScrollY)
_viewportElement[_strScrollTop](doScroll.y);if(doScrollX){if(_isRTL&&_normalizeRTLCache&&_rtlScrollBehavior.i)
_viewportElement[_strScrollLeft](0);else
_viewportElement[_strScrollLeft](doScroll.x);}}}
_textareaInfoCache=textareaInfo;}
else if(!_isTextarea){if(_isRTL&&_rtlScrollBehavior.i&&_nativeScrollbarIsOverlaid.y&&hasOverflow.x&&_normalizeRTLCache)
currScroll.l+=_contentBorderSize.w||0;_viewportElement[_strScrollLeft](currScroll.l);_viewportElement[_strScrollTop](currScroll.t);}
if(cssDirectionChanged){callCallback("onDirectionChanged",{isRTL:_isRTL,dir:cssDirection});}
if(hostSizeChanged){callCallback("onHostSizeChanged",{width:_hostSizeCache.w,height:_hostSizeCache.h});}
if(contentSizeChanged){callCallback("onContentSizeChanged",{width:_contentScrollSizeCache.w,height:_contentScrollSizeCache.h});}
if(hasOverflow.c||hideOverflow.c){callCallback("onOverflowChanged",{x:hasOverflow.x,y:hasOverflow.y,xScrollable:hideOverflow.xs,yScrollable:hideOverflow.ys,clipped:hideOverflow.x||hideOverflow.y});}
if(overflowAmount.c){callCallback("onOverflowAmountChanged",{x:overflowAmount.x,y:overflowAmount.y});}}
if(_isBody&&(hasOverflow.c||_bodyMinSizeCache.c)){if(!_bodyMinSizeCache.f)
bodyMinSizeChanged();if(_nativeScrollbarIsOverlaid.y&&hasOverflow.x)
_contentElement.css(_strMinMinus+_strWidth,_bodyMinSizeCache.w+_overlayScrollbarDummySize.y);if(_nativeScrollbarIsOverlaid.x&&hasOverflow.y)
_contentElement.css(_strMinMinus+_strHeight,_bodyMinSizeCache.h+_overlayScrollbarDummySize.x);_bodyMinSizeCache.c=false;}
unfreezeResizeObserver(_sizeObserverElement);unfreezeResizeObserver(_sizeAutoObserverElement);callCallback("onUpdated",{forced:force});}
function setOptions(newOptions){_currentOptions=extend(true,{},_currentOptions,_pluginsOptions.v(newOptions,_pluginsOptions.t,true));_currentPreparedOptions=extend(true,{},_currentPreparedOptions,_pluginsOptions.v(newOptions,_pluginsOptions.t,false,true));}
function buildScrollbars(){_scrollbarHorizontalElement=framework(generateDiv(_classNameScrollbar+_strSpace+_classNameScrollbarHorizontal));_scrollbarHorizontalTrackElement=framework(generateDiv(_classNameScrollbarTrack));_scrollbarHorizontalHandleElement=framework(generateDiv(_classNameScrollbarHandle));_scrollbarVerticalElement=framework(generateDiv(_classNameScrollbar+_strSpace+_classNameScrollbarVertical));_scrollbarVerticalTrackElement=framework(generateDiv(_classNameScrollbarTrack));_scrollbarVerticalHandleElement=framework(generateDiv(_classNameScrollbarHandle));_scrollbarHorizontalElement.append(_scrollbarHorizontalTrackElement);_scrollbarHorizontalTrackElement.append(_scrollbarHorizontalHandleElement);_scrollbarVerticalElement.append(_scrollbarVerticalTrackElement);_scrollbarVerticalTrackElement.append(_scrollbarVerticalHandleElement);_paddingElement.after(_scrollbarVerticalElement);_paddingElement.after(_scrollbarHorizontalElement);if(_supportTransition){_scrollbarHorizontalElement.on(_strTransitionEndEvent,function(event){if(event.target!==_scrollbarHorizontalElement[0])
return;refreshScrollbarHandleLength(true);refreshScrollbarHandleOffset(true,_viewportElement[_strScrollLeft]());});_scrollbarVerticalElement.on(_strTransitionEndEvent,function(event){if(event.target!==_scrollbarVerticalElement[0])
return;refreshScrollbarHandleLength(false);refreshScrollbarHandleOffset(false,_viewportElement[_strScrollTop]());});}
initScrollbarInteractivity(true);initScrollbarInteractivity(false);_scrollbarCornerElement=framework(generateDiv(_classNameScrollbarCorner));_hostElement.append(_scrollbarCornerElement);}
function initScrollbarInteractivity(isHorizontal){var scrollbarVars=getScrollbarVars(isHorizontal);var mouseDownScroll;var mouseDownOffset;var xy=scrollbarVars.xy;var scroll=_strScroll+scrollbarVars.LT;var strActive='active';var trackTimeout;var scrollDurationFactor=1;var increaseDecreaseScrollAmountKeyCodes=[16,17];var increaseTrackScrollAmount=function(){scrollDurationFactor=0.5;};var decreaseTrackScrollAmount=function(){scrollDurationFactor=1;};var handleDragMove=function(event){var trackLength=scrollbarVars.i.tl;var handleLength=scrollbarVars.i.hl;var scrollRange=scrollbarVars.i.ms;var scrollRaw=compatibility.page(event)[xy]-mouseDownOffset;var scrollDeltaPercent=scrollRaw/(trackLength-handleLength);var scrollDelta=(scrollRange*scrollDeltaPercent);scrollDelta=isFinite(scrollDelta)?scrollDelta:0;if(_isRTL&&isHorizontal&&!_rtlScrollBehavior.i)
scrollDelta*=-1;_viewportElement[scroll](mouseDownScroll+scrollDelta);if(!_supportPassiveEvents)
compatibility.prvD(event);};var documentMouseTouchUp=function(event){event=event||event.originalEvent;var rect=_hostElement[0].getBoundingClientRect();var mouseInsideHost=event.clientX>=rect.left&&event.clientX<=rect.right&&event.clientY>=rect.top&&event.clientY<=rect.bottom;removeClass(_bodyElement,_classNameDragging);removeClass(scrollbarVars.h,strActive);removeClass(scrollbarVars.t,strActive);removeClass(scrollbarVars.s,strActive);_documentElement.off(_strMouseTouchMoveEvent,handleDragMove).off(_strMouseTouchUpEvent,documentMouseTouchUp).off(_strKeyDownEvent,documentKeyDown).off(_strKeyUpEvent,documentKeyUp).off(_strSelectStartEvent,documentOnSelectStart);decreaseTrackScrollAmount();mouseDownScroll=undefined;mouseDownOffset=undefined;if(trackTimeout!==undefined){_base.scrollStop();clearTimeout(trackTimeout);trackTimeout=undefined;}
if(!mouseInsideHost)
hostOnMouseLeave();if(_scrollbarsAutoHideScroll||_scrollbarsAutoHideMove)
refreshScrollbarsAutoHide(false);};var documentKeyDown=function(event){if(framework.inArray(event.keyCode,increaseDecreaseScrollAmountKeyCodes)>-1)
increaseTrackScrollAmount();};var documentKeyUp=function(event){if(framework.inArray(event.keyCode,increaseDecreaseScrollAmountKeyCodes)>-1)
decreaseTrackScrollAmount();};var onMouseTouchDownContinue=function(event){var originalEvent=event.originalEvent||event;var isTouchEvent=originalEvent.touches!==undefined;return _isSleeping||nativeOverlayScrollbarsAreActive()||!_scrollbarsDragScrollingCache||(isTouchEvent&&!_scrollbarsTouchSupport)?false:compatibility.mBtn(event)===1||isTouchEvent;};var onHandleMouseTouchDown=function(event){mouseDownScroll=_viewportElement[scroll]();mouseDownScroll=mouseDownScroll===undefined?0:mouseDownScroll;if(_isRTL&&isHorizontal&&!_rtlScrollBehavior.n||!_isRTL)
mouseDownScroll=mouseDownScroll<0?0:mouseDownScroll;mouseDownOffset=compatibility.page(event)[xy];addClass(_bodyElement,_classNameDragging);addClass(scrollbarVars.h,strActive);addClass(scrollbarVars.s,strActive);_documentElement.on(_strMouseTouchMoveEvent,handleDragMove).on(_strMouseTouchUpEvent,documentMouseTouchUp).on(_strSelectStartEvent,documentOnSelectStart);if(_msieVersion||!_documentMixed)
compatibility.prvD(event);compatibility.stpP(event);};scrollbarVars.h.on(_strMouseTouchDownEvent,function(event){if(onMouseTouchDownContinue(event))
onHandleMouseTouchDown(event);});scrollbarVars.t.on(_strMouseTouchDownEvent,function(event){if(onMouseTouchDownContinue(event)){var scrollDistance=_viewportSize[scrollbarVars._wh];var trackOffset=scrollbarVars.t.offset()[scrollbarVars.lt];var ctrlKey=event.ctrlKey;var instantScroll=event.shiftKey;var instantScrollTransition=instantScroll&&ctrlKey;var isFirstIteration=true;var easing='linear';var decreaseScroll;var finishedCondition;var scrollAction=function(){if(!_destroyed){var mouseOffset=mouseDownOffset-trackOffset;var trackLength=scrollbarVars.i.tl;var handleOffset=scrollbarVars.i.ho;var handleLength=scrollbarVars.i.hl;var scrollRange=scrollbarVars.i.ms;var scrollDuration=270*scrollDurationFactor;var timeoutDelay=isFirstIteration?Math.max(400,scrollDuration):scrollDuration;var instantScrollPosition=scrollRange*((mouseOffset-(handleLength/2))/(trackLength-handleLength));var rtlIsNormal=_isRTL&&isHorizontal&&((!_rtlScrollBehavior.i&&!_rtlScrollBehavior.n)||_normalizeRTLCache);var decreaseScrollCondition=rtlIsNormal?handleOffset<mouseOffset:handleOffset>mouseOffset;var scrollObj={};if(instantScroll){instantScrollPosition=isFinite(instantScrollPosition)?instantScrollPosition:0;if(_isRTL&&isHorizontal&&!_rtlScrollBehavior.i)
instantScrollPosition=(scrollRange-instantScrollPosition);if(instantScrollTransition){scrollObj.n=false;scrollObj[scrollbarVars.xy]=instantScrollPosition;_base.scroll(scrollObj,130,easing,function(){onHandleMouseTouchDown(event);});}
else{_viewportElement[scroll](instantScrollPosition);onHandleMouseTouchDown(event);}}
else{decreaseScroll=isFirstIteration?decreaseScrollCondition:decreaseScroll;finishedCondition=rtlIsNormal?decreaseScroll?handleOffset+handleLength>=mouseOffset:handleOffset<=mouseOffset:decreaseScroll?handleOffset<=mouseOffset:handleOffset+handleLength>=mouseOffset;scrollObj[scrollbarVars.xy]=decreaseScroll?'-='+scrollDistance:'+='+scrollDistance;_base.scrollStop();_base.scroll(scrollObj,scrollDuration,easing);if(finishedCondition){clearTimeout(trackTimeout);_base.scrollStop();trackTimeout=undefined;}
else
trackTimeout=setTimeout(scrollAction,timeoutDelay);isFirstIteration=false;}}};if(ctrlKey)
increaseTrackScrollAmount();mouseDownOffset=compatibility.page(event)[xy];addClass(_bodyElement,_classNameDragging);addClass(scrollbarVars.t,strActive);addClass(scrollbarVars.s,strActive);_documentElement.on(_strMouseTouchUpEvent,documentMouseTouchUp).on(_strKeyDownEvent,documentKeyDown).on(_strKeyUpEvent,documentKeyUp).on(_strSelectStartEvent,documentOnSelectStart);scrollAction();compatibility.prvD(event);compatibility.stpP(event);}}).hover(function(){if(_scrollbarsAutoHideScroll||_scrollbarsAutoHideMove){_scrollbarsAutoHideFlagScrollAndHovered=true;refreshScrollbarsAutoHide(true);}},function(){if(_scrollbarsAutoHideScroll||_scrollbarsAutoHideMove){_scrollbarsAutoHideFlagScrollAndHovered=false;refreshScrollbarsAutoHide(false);}});scrollbarVars.s.on(_strMouseTouchDownEvent,function(event){compatibility.stpP(event);});}
function refreshScrollbarAppearance(isHorizontal,shallBeVisible,canScroll){var scrollbarClassName=isHorizontal?_classNameHostScrollbarHorizontalHidden:_classNameHostScrollbarVerticalHidden;var scrollbarElement=isHorizontal?_scrollbarHorizontalElement:_scrollbarVerticalElement;if(shallBeVisible)
removeClass(_hostElement,scrollbarClassName);else
addClass(_hostElement,scrollbarClassName);if(canScroll)
removeClass(scrollbarElement,_classNameScrollbarUnusable);else
addClass(scrollbarElement,_classNameScrollbarUnusable);}
function refreshScrollbarsAutoHide(shallBeVisible,delayfree){clearTimeout(_scrollbarsAutoHideTimeoutId);if(shallBeVisible){removeClass(_scrollbarHorizontalElement,_classNameScrollbarAutoHidden);removeClass(_scrollbarVerticalElement,_classNameScrollbarAutoHidden);}
else{var strActive='active';var hide=function(){if(!_scrollbarsAutoHideFlagScrollAndHovered&&!_destroyed){var anyActive=_scrollbarHorizontalHandleElement.hasClass(strActive)||_scrollbarVerticalHandleElement.hasClass(strActive);if(!anyActive&&(_scrollbarsAutoHideScroll||_scrollbarsAutoHideMove||_scrollbarsAutoHideLeave))
addClass(_scrollbarHorizontalElement,_classNameScrollbarAutoHidden);if(!anyActive&&(_scrollbarsAutoHideScroll||_scrollbarsAutoHideMove||_scrollbarsAutoHideLeave))
addClass(_scrollbarVerticalElement,_classNameScrollbarAutoHidden);}};if(_scrollbarsAutoHideDelay>0&&delayfree!==true)
_scrollbarsAutoHideTimeoutId=setTimeout(hide,_scrollbarsAutoHideDelay);else
hide();}}
function refreshScrollbarHandleLength(isHorizontal){var handleCSS={};var scrollbarVars=getScrollbarVars(isHorizontal);var digit=1000000;var handleRatio=Math.min(1,(_hostSizeCache[scrollbarVars._wh]-(_paddingAbsoluteCache?(isHorizontal?_paddingX:_paddingY):0))/_contentScrollSizeCache[scrollbarVars._wh]);handleCSS[scrollbarVars.wh]=(Math.floor(handleRatio*100*digit)/digit)+"%";if(!nativeOverlayScrollbarsAreActive())
scrollbarVars.h.css(handleCSS);scrollbarVars.i.hl=scrollbarVars.h[0]['offset'+scrollbarVars.WH];scrollbarVars.i.hlr=handleRatio;}
function refreshScrollbarHandleOffset(isHorizontal,currentScroll){var isRTLisHorizontal=_isRTL&&isHorizontal;var handleCSS={};var scrollbarVars=getScrollbarVars(isHorizontal);var strTranslateBrace='translate(';var strTransform='transform';var translateValue;var maxScroll=_viewportElement[0][_strScroll+scrollbarVars.WH]-_viewportElement[0]['client'+scrollbarVars.WH];var handleLength=scrollbarVars.i.hl;var trackLength=scrollbarVars.t[0]['offset'+scrollbarVars.WH];var handleTrackDiff=trackLength-handleLength;var offset=handleTrackDiff;var transformOffset;var posRatio;if(_rtlScrollBehavior.n&&isRTLisHorizontal)
maxScroll*=-1;posRatio=currentScroll/maxScroll;posRatio=isNaN(posRatio)?0:Math.min(1,posRatio);scrollbarVars.i.ms=maxScroll;scrollbarVars.i.cs=currentScroll;scrollbarVars.i.csr=posRatio;offset*=posRatio;offset=isNaN(offset)?0:offset;if(isRTLisHorizontal&&!_rtlScrollBehavior.i)
offset=trackLength-handleLength-offset;offset=Math.max(0,offset);if(_supportTransform){transformOffset=isRTLisHorizontal?-(trackLength-handleLength-offset):offset;transformOffset=(transformOffset/trackLength*100)*(trackLength/handleLength);translateValue=isHorizontal?strTranslateBrace+transformOffset+'%, 0)':strTranslateBrace+'0, '+transformOffset+'%)';handleCSS['-webkit-'+strTransform]=translateValue;handleCSS['-moz-'+strTransform]=translateValue;handleCSS['-ms-'+strTransform]=translateValue;handleCSS['-o-'+strTransform]=translateValue;handleCSS[strTransform]=translateValue;}
else
handleCSS[scrollbarVars.lt]=offset;if(!nativeOverlayScrollbarsAreActive())
scrollbarVars.h.css(handleCSS);scrollbarVars.i.ho=offset;scrollbarVars.i.tl=trackLength;}
function refreshScrollbarsInteractive(isTrack,value){var action=value?'removeClass':'addClass';var element1=isTrack?_scrollbarHorizontalTrackElement:_scrollbarHorizontalHandleElement;var element2=isTrack?_scrollbarVerticalTrackElement:_scrollbarVerticalHandleElement;var className=isTrack?_classNameScrollbarTrackOff:_classNameScrollbarHandleOff;element1[action](className);element2[action](className);}
function getScrollbarVars(isHorizontal){return{wh:isHorizontal?_strWidth:_strHeight,WH:isHorizontal?'Width':'Height',lt:isHorizontal?_strLeft:_strTop,LT:isHorizontal?'Left':'Top',xy:isHorizontal?_strX:_strY,XY:isHorizontal?'X':'Y',_wh:isHorizontal?'w':'h',_lt:isHorizontal?'l':'t',t:isHorizontal?_scrollbarHorizontalTrackElement:_scrollbarVerticalTrackElement,h:isHorizontal?_scrollbarHorizontalHandleElement:_scrollbarVerticalHandleElement,s:isHorizontal?_scrollbarHorizontalElement:_scrollbarVerticalElement,i:isHorizontal?_scrollHorizontalInfo:_scrollVerticalInfo};}
function callCallback(name,args){if(_initialized){var callback=_currentPreparedOptions.callbacks[name];var extensionOnName=name;var ext;if(extensionOnName.substr(0,2)==="on")
extensionOnName=extensionOnName.substr(2,1).toLowerCase()+extensionOnName.substr(3);if(type(callback)==TYPES.f)
callback.call(_base,args);framework.each(_extensions,function(){ext=this;if(type(ext.on)==TYPES.f)
ext.on(extensionOnName,args);});}}
function setTopRightBottomLeft(targetCSSObject,prefix,values){if(values===undefined)
values=[_strEmpty,_strEmpty,_strEmpty,_strEmpty];targetCSSObject[prefix+_strTop]=values[0];targetCSSObject[prefix+_strRight]=values[1];targetCSSObject[prefix+_strBottom]=values[2];targetCSSObject[prefix+_strLeft]=values[3];}
function isHTMLElement(o){var strOwnerDocument='ownerDocument';var strHTMLElement='HTMLElement';var wnd=o&&o[strOwnerDocument]?(o[strOwnerDocument].parentWindow||window):window;return(typeof wnd[strHTMLElement]==TYPES.o?o instanceof wnd[strHTMLElement]:o&&typeof o==TYPES.o&&o!==null&&o.nodeType===1&&typeof o.nodeName==TYPES.s);}
function getArrayDifferences(a1,a2){var a=[];var diff=[];var i;var k;for(i=0;i<a1.length;i++)
a[a1[i]]=true;for(i=0;i<a2.length;i++){if(a[a2[i]])
delete a[a2[i]];else
a[a2[i]]=true;}
for(k in a)
diff.push(k);return diff;}
function parseIntToZeroOrNumber(value){var num=window.parseInt(value);return isNaN(num)?0:num;}
function getTextareaInfo(){var textareaCursorPosition=_targetElement[0].selectionStart;if(textareaCursorPosition===undefined)
return;var strLength='length';var textareaValue=_targetElement.val();var textareaLength=textareaValue[strLength];var textareaRowSplit=textareaValue.split("\n");var textareaLastRow=textareaRowSplit[strLength];var textareaCurrentCursorRowSplit=textareaValue.substr(0,textareaCursorPosition).split("\n");var widestRow=0;var textareaLastCol=0;var cursorRow=textareaCurrentCursorRowSplit[strLength];var cursorCol=textareaCurrentCursorRowSplit[textareaCurrentCursorRowSplit[strLength]-1][strLength];var rowCols;var i;for(i=0;i<textareaRowSplit[strLength];i++){rowCols=textareaRowSplit[i][strLength];if(rowCols>textareaLastCol){widestRow=i+1;textareaLastCol=rowCols;}}
return{cR:cursorRow,cC:cursorCol,r:textareaLastRow,c:textareaLastCol,w:widestRow,p:textareaCursorPosition,m:textareaLength};}
function textareaIsRestrictedKeyCode(keyCode){for(var i=0;i<_textareaKeyDownRestrictedKeyCodes.length;i++){if(keyCode===_textareaKeyDownRestrictedKeyCodes[i])
return true;}
return false;}
function nativeOverlayScrollbarsAreActive(){return(_ignoreOverlayScrollbarHidingCache&&(_nativeScrollbarIsOverlaid.x&&_nativeScrollbarIsOverlaid.y));}
function getContentMeasureElement(){return _isTextarea?_textareaCoverElement[0]:_contentElement[0];}
function generateDiv(classesOrAttrs,content){return'<div '+(classesOrAttrs?type(classesOrAttrs)==TYPES.s?'class="'+classesOrAttrs+'"':(function(){var key;var attrs='';if(framework.isPlainObject(classesOrAttrs)){for(key in classesOrAttrs)
attrs+=(key==='className'?'class':key)+'="'+classesOrAttrs[key]+'" ';}
return attrs;})():_strEmpty)+'>'+(content?content:_strEmpty)+'</div>';}
function getObjectPropVal(obj,path){var splits=path.split(_strDot);var i=0;var val;for(;i<splits.length;i++){if(!obj.hasOwnProperty(splits[i]))
return;val=obj[splits[i]];if(i<splits.length&&type(val)==TYPES.o)
obj=val;}
return val;}
function setObjectPropVal(obj,path,val){var splits=path.split(_strDot);var splitsLength=splits.length;var i=0;var extendObj={};var extendObjRoot=extendObj;for(;i<splitsLength;i++)
extendObj=extendObj[splits[i]]=i+1<splitsLength?{}:val;framework.extend(obj,extendObjRoot,true);}
function checkCacheSingle(current,cache,force){if(force===true)
return force;if(cache===undefined)
return true;else if(current!==cache)
return true;return false;}
function checkCacheDouble(current,cache,prop1,prop2,force){if(force===true)
return force;if(prop2===undefined&&force===undefined){if(prop1===true)
return prop1;else
prop1=undefined;}
prop1=prop1===undefined?'w':prop1;prop2=prop2===undefined?'h':prop2;if(cache===undefined)
return true;else if(current[prop1]!==cache[prop1]||current[prop2]!==cache[prop2])
return true;return false;}
function checkCacheTRBL(current,cache){if(cache===undefined)
return true;else if(current.t!==cache.t||current.r!==cache.r||current.b!==cache.b||current.l!==cache.l)
return true;return false;}
function type(obj){return framework.type(obj);}
function extend(){return framework.extend.apply(this,arguments);}
function addClass(el,classes){return framework.prototype.addClass.call(el,classes);}
function removeClass(el,classes){return framework.prototype.removeClass.call(el,classes);}
function remove(el){return framework.prototype.remove.call(el);}
function findFirst(el,selector){return framework.prototype.find.call(el,selector).eq(0);}
_base.sleep=function(){_isSleeping=true;};_base.update=function(force){var attrsChanged;var contentSizeC;var isZoom=force==='zoom';var imgElementSelector='img';var imgElementLoadEvent='load';if(force===_strAuto){attrsChanged=meaningfulAttrsChanged();contentSizeC=updateAutoContentSizeChanged();if(attrsChanged||contentSizeC)
update(false,contentSizeC);}
else if(isZoom){update(true,true);}
else{force=_isSleeping||force;_isSleeping=false;update(false,false,force);}
if(!_isTextarea&&!isZoom){_contentElement.find(imgElementSelector).each(function(i,el){var index=compatibility.inA(el,_imgs);if(index===-1){el=framework(el);el.off(imgElementLoadEvent,imgOnLoad).on(imgElementLoadEvent,imgOnLoad);}});}};_base.options=function(newOptions,value){if(framework.isEmptyObject(newOptions)||!framework.isPlainObject(newOptions)){if(type(newOptions)==TYPES.s){if(arguments.length>=2){var option={};setObjectPropVal(option,newOptions,value);setOptions(option);update();return;}
else
return getObjectPropVal(_currentOptions,newOptions);}
else
return _currentOptions;}
setOptions(newOptions);var isSleepingTmp=_isSleeping||false;_isSleeping=false;update();_isSleeping=isSleepingTmp;};_base.destroy=function(){_destroyed=true;autoUpdateLoop.remove(_base);mutationObserversDisconnect();removeResizeObserver(_sizeObserverElement);if(_sizeAutoObserverAdded)
removeResizeObserver(_sizeAutoObserverElement);for(var extName in _extensions)
_base.removeExt(extName);remove(_sizeObserverElement);if(_contentGlueElement!==undefined)
remove(_contentGlueElement);if(_contentArrangeElement!==undefined)
remove(_contentArrangeElement);if(_sizeAutoObserverAdded)
remove(_sizeAutoObserverElement);if(_supportPassiveEvents){removePassiveEventListener(_hostElement,_strMouseTouchMoveEvent,hostOnMouseMove);removePassiveEventListener(_hostElement,_strMouseTouchEnter,hostOnMouseEnter);removePassiveEventListener(_hostElement,_strMouseTouchLeave,hostOnMouseLeave);}
else{_hostElement.off(_strMouseTouchMoveEvent,hostOnMouseMove).off(_strMouseTouchEnter,hostOnMouseEnter).off(_strMouseTouchLeave,hostOnMouseLeave);}
remove(_scrollbarHorizontalElement);remove(_scrollbarVerticalElement);if(_scrollbarCornerElement)
remove(_scrollbarCornerElement);if(!_resizeNone)
scrollbarCornerOnResized();_contentElement.contents().unwrap().unwrap().unwrap();if(_isBody)
removeClass(_htmlElement,_classNameHTMLElement);if(_isTextarea){_targetElement.off(_strScroll,textareaOnScroll).off('drop',textareaOnDrop).off('focus',textareaOnFocus).off('focusout',textareaOnFocusOut);if(_msieVersion>9||!_autoUpdateRecommended)
_targetElement.off('input',textareaOnInput);else{_targetElement.off(_strKeyDownEvent,textareaOnKeyDown).off(_strKeyUpEvent,textareaOnKeyUp);}
remove(_textareaCoverElement);removeClass(_targetElement,_classNameTextareaElement+_strSpace+_classNameTextInherit).unwrap().removeAttr(LEXICON.s);remove(_hostElement);}
else{removeClass(_targetElement,_classNameHostElement);removeClass(_hostElement,[_classNameHostElement,_classNameHostResizeDisabled,_classNameHostRTL,_classNameHostScrollbarHorizontalHidden,_classNameHostScrollbarVerticalHidden,_classNameHostTransition,_classNameHostScrolling,_classNameHostOverflow,_classNameHostOverflowX,_classNameHostOverflowY,_classNameThemeNone,_classNameCache].join(_strSpace));}
for(var i=0;i<_imgs.length;i++)
framework(_imgs[i]).off('load',imgOnLoad);_imgs=undefined;instances(pluginTargetElement,0);callCallback("onDestroyed");for(var property in _base)
delete _base[property];_base=undefined;};_base.scroll=function(coordinates,duration,easing,complete){if(arguments.length===0||coordinates===undefined){var infoX=_scrollHorizontalInfo;var infoY=_scrollVerticalInfo;var normalizeInvert=_normalizeRTLCache&&_isRTL&&_rtlScrollBehavior.i;var normalizeNegate=_normalizeRTLCache&&_isRTL&&_rtlScrollBehavior.n;var scrollX=infoX.cs;var scrollXRatio=infoX.csr;var maxScrollX=infoX.ms;scrollXRatio=normalizeInvert?1-scrollXRatio:scrollXRatio;scrollX=normalizeInvert?maxScrollX-scrollX:scrollX;scrollX*=normalizeNegate?-1:1;maxScrollX*=normalizeNegate?-1:1;return{x:{position:scrollX,ratio:scrollXRatio,max:maxScrollX,handleOffset:infoX.ho,handleLength:infoX.hl,handleLengthRatio:infoX.hlr,trackLength:infoX.tl,isRTL:_isRTL,isRTLNormalized:_normalizeRTLCache},y:{position:infoY.cs,ratio:infoY.csr,max:infoY.ms,handleOffset:infoY.ho,handleLength:infoY.hl,handleLengthRatio:infoY.hlr,trackLength:infoY.tl}};}
var normalizeRTL=_normalizeRTLCache;var coordinatesXAxisProps=[_strX,_strLeft,'l'];var coordinatesYAxisProps=[_strY,_strTop,'t'];var coordinatesOperators=['+=','-=','*=','/='];var i;var finalScroll={};var doScrollLeft;var doScrollTop;var animationOptions;var durationIsObject=type(duration)==TYPES.o;var strEnd='end';var strBegin='begin';var strCenter='center';var strNearest='nearest';var strAlways='always';var strNever='never';var strIfNeeded='ifneeded';var settingsAxis;var settingsScroll;var settingsBlock;var settingsMargin;var finalElement;var elementObjSettingsAxisValues=[_strX,_strY,'xy','yx'];var elementObjSettingsBlockValues=[strBegin,strEnd,strCenter,strNearest];var elementObjSettingsScrollValues=[strAlways,strNever,strIfNeeded];var coordinatesIsElementObj=coordinates.hasOwnProperty('el');var possibleElement=coordinatesIsElementObj?coordinates.el:coordinates;var possibleElementIsJQuery=possibleElement instanceof framework||JQUERY?possibleElement instanceof JQUERY:false;var possibleElementIsHTMLElement=possibleElementIsJQuery?false:isHTMLElement(possibleElement);var checkSettingsStringValue=function(currValue,allowedValues){for(i=0;i<allowedValues.length;i++){if(currValue===allowedValues[i])
return true;}
return false;};var getRawScroll=function(coordinates){var rawScroll={};if(type(coordinates)==TYPES.a&&coordinates.length>0){rawScroll.x=coordinates[0];rawScroll.y=coordinates[1];}
else if(type(coordinates)==TYPES.s||type(coordinates)==TYPES.n){rawScroll.x=coordinates;rawScroll.y=coordinates;}
else if(type(coordinates)==TYPES.o){normalizeRTL=type(coordinates.n)==TYPES.b?coordinates.n:normalizeRTL;coordinates=extend({},coordinates);i=0;for(var key in coordinates){if(coordinates.hasOwnProperty(key)){if(i>2)
delete coordinates[key];i++;}}
var getRawScrollValue=function(isX){var coordinateProps=isX?coordinatesXAxisProps:coordinatesYAxisProps;for(i=0;i<coordinateProps.length;i++){if(coordinateProps[i]in coordinates){return coordinates[coordinateProps[i]];}}};rawScroll.x=getRawScrollValue(true);rawScroll.y=getRawScrollValue(false);}
return rawScroll;};var getFinalScroll=function(isX,rawScroll){var operator;var amount;var scrollInfo=isX?_scrollHorizontalInfo:_scrollVerticalInfo;var currScroll=scrollInfo.cs;var maxScroll=scrollInfo.ms;var mult=' * ';var finalValue;var isRTLisX=_isRTL&&isX;var normalizeShortcuts=isRTLisX&&_rtlScrollBehavior.n&&!normalizeRTL;var strReplace='replace';if(type(rawScroll)==TYPES.s){if(rawScroll.length>2){var possibleOperator=rawScroll.substr(0,2);for(i=0;i<coordinatesOperators.length;i++){if(possibleOperator===coordinatesOperators[i]){operator=coordinatesOperators[i];break;}}}
rawScroll=operator!==undefined?rawScroll.substr(2):rawScroll;rawScroll=rawScroll[strReplace](/min/g,0);rawScroll=rawScroll[strReplace](/</g,0);rawScroll=rawScroll[strReplace](/max/g,(normalizeShortcuts?'-':_strEmpty)+_strHundredPercent);rawScroll=rawScroll[strReplace](/>/g,(normalizeShortcuts?'-':_strEmpty)+_strHundredPercent);rawScroll=rawScroll[strReplace](/px/g,_strEmpty);rawScroll=rawScroll[strReplace](/%/g,mult+(maxScroll*(isRTLisX&&_rtlScrollBehavior.n?-1:1)/100.0));rawScroll=rawScroll[strReplace](/vw/g,mult+_viewportSize.w);rawScroll=rawScroll[strReplace](/vh/g,mult+_viewportSize.h);amount=parseIntToZeroOrNumber(window.parseFloat(window.eval(rawScroll)).toFixed());}
else if(type(rawScroll)==TYPES.n){amount=rawScroll;}
if(!isNaN(amount)&&amount!==undefined&&type(amount)==TYPES.n){var normalizeIsRTLisX=normalizeRTL&&isRTLisX;var operatorCurrScroll=currScroll*(normalizeIsRTLisX&&_rtlScrollBehavior.n?-1:1);var invert=normalizeIsRTLisX&&_rtlScrollBehavior.i;var negate=normalizeIsRTLisX&&_rtlScrollBehavior.n;operatorCurrScroll=invert?(maxScroll-operatorCurrScroll):operatorCurrScroll;switch(operator){case'+=':finalValue=operatorCurrScroll+amount;break;case'-=':finalValue=operatorCurrScroll-amount;break;case'*=':finalValue=operatorCurrScroll*amount;break;case'/=':finalValue=operatorCurrScroll/amount;break;default:finalValue=amount;break;}
if(invert)
finalValue=maxScroll-finalValue;if(negate)
finalValue*=-1;if(isRTLisX&&_rtlScrollBehavior.n){finalValue=Math.max(maxScroll,finalValue);finalValue=Math.min(0,finalValue);}
else{finalValue=Math.min(maxScroll,finalValue);finalValue=Math.max(0,finalValue);}
if(finalValue===currScroll)
finalValue=undefined;}
return finalValue;};var getPerAxisValue=function(value,valueInternalType,defaultValue,allowedValues){var resultDefault=[defaultValue,defaultValue];var valueType=type(value);var valueArrLength;var valueArrItem;if(valueType==valueInternalType){value=[value,value];}
else if(valueType==TYPES.a){valueArrLength=value.length;if(valueArrLength>2||valueArrLength<1)
value=resultDefault;else{if(valueArrLength===1)
value[1]=defaultValue;for(i=0;i<valueArrLength;i++){valueArrItem=value[i];if(type(valueArrItem)!=valueInternalType||!checkSettingsStringValue(valueArrItem,allowedValues)){value=resultDefault;break;}}}}
else if(valueType==TYPES.o)
value=[value[_strX]||defaultValue,value[_strY]||defaultValue];else
value=resultDefault;return{x:value[0],y:value[1]};};var generateMargin=function(marginTopRightBottomLeftArray){var result=[];var currValue;var currValueType;var valueDirections=[_strTop,_strRight,_strBottom,_strLeft];for(i=0;i<marginTopRightBottomLeftArray.length;i++){if(i===valueDirections.length)
break;currValue=marginTopRightBottomLeftArray[i];currValueType=type(currValue);if(currValueType==TYPES.b)
result.push(currValue?parseIntToZeroOrNumber(finalElement.css(_strMarginMinus+valueDirections[i])):0);else if(currValueType==TYPES.n)
result.push(currValue);else
result.push(0);}
return result;};if(possibleElementIsJQuery||possibleElementIsHTMLElement){var margin=coordinatesIsElementObj?coordinates.margin:0;var axis=coordinatesIsElementObj?coordinates.axis:0;var scroll=coordinatesIsElementObj?coordinates.scroll:0;var block=coordinatesIsElementObj?coordinates.block:0;var marginDefault=[0,0,0,0];var marginType=type(margin);var marginLength;finalElement=possibleElementIsJQuery?possibleElement:framework(possibleElement);if(finalElement.length===0)
return;if(marginType==TYPES.n||marginType==TYPES.b)
margin=generateMargin([margin,margin,margin,margin]);else if(marginType==TYPES.a){marginLength=margin.length;if(marginLength===2)
margin=generateMargin([margin[0],margin[1],margin[0],margin[1]]);else if(marginLength>=4)
margin=generateMargin(margin);else
margin=marginDefault;}
else if(marginType==TYPES.o)
margin=generateMargin([margin[_strTop],margin[_strRight],margin[_strBottom],margin[_strLeft]]);else
margin=marginDefault;settingsAxis=checkSettingsStringValue(axis,elementObjSettingsAxisValues)?axis:'xy';settingsScroll=getPerAxisValue(scroll,TYPES.s,strAlways,elementObjSettingsScrollValues);settingsBlock=getPerAxisValue(block,TYPES.s,strBegin,elementObjSettingsBlockValues);settingsMargin=margin;var elementOffset=finalElement.offset();elementOffset[_strTop]-=settingsMargin[0];elementOffset[_strLeft]-=settingsMargin[3];var viewportOffset=_paddingElement.offset();var viewportScroll={l:_scrollHorizontalInfo.cs,t:_scrollVerticalInfo.cs};var doNotScroll={x:settingsScroll.x==strNever||settingsAxis==_strY,y:settingsScroll.y==strNever||settingsAxis==_strX};var elementScrollCoordinates={x:Math.round(elementOffset[_strLeft]-viewportOffset[_strLeft]+viewportScroll.l),y:Math.round(elementOffset[_strTop]-viewportOffset[_strTop]+viewportScroll.t)};if(_isRTL){if(!_rtlScrollBehavior.n&&!_rtlScrollBehavior.i)
elementScrollCoordinates.x=Math.round(viewportOffset[_strLeft]-elementOffset[_strLeft]+viewportScroll.l);if(_rtlScrollBehavior.n&&normalizeRTL)
elementScrollCoordinates.x*=-1;if(_rtlScrollBehavior.i&&normalizeRTL)
elementScrollCoordinates.x=Math.round(viewportOffset[_strLeft]-elementOffset[_strLeft]+(_scrollHorizontalInfo.ms-viewportScroll.l));}
if(settingsBlock.x!=strBegin||settingsBlock.y!=strBegin||settingsScroll.x==strIfNeeded||settingsScroll.y==strIfNeeded||_isRTL){var measuringElm=finalElement[0];var rawElementSize={};var rect;if(_supportTransform){rect=measuringElm.getBoundingClientRect();rawElementSize={w:rect[_strWidth],h:rect[_strHeight]};}
else{rawElementSize={w:measuringElm[LEXICON.oW],h:measuringElm[LEXICON.oH]};}
var elementSize={w:rawElementSize.w+settingsMargin[3]+settingsMargin[1],h:rawElementSize.h+settingsMargin[0]+settingsMargin[2]};var finalizeBlock=function(isX){var vars=getScrollbarVars(isX);var wh=vars._wh;var lt=vars.lt;var xy=vars.xy;var blockIsEnd=settingsBlock[xy]==(isX?_isRTL?strBegin:strEnd:strEnd);var blockIsCenter=settingsBlock[xy]==strCenter;var blockIsNearest=settingsBlock[xy]==strNearest;var scrollNever=settingsScroll[xy]==strNever;var scrollIfNeeded=settingsScroll[xy]==strIfNeeded;var vpSize=_viewportSize[wh];var vpOffset=viewportOffset[lt];var elSize=elementSize[wh];var elOffset=elementOffset[lt];var divide=blockIsCenter?2:1;var elementCenterOffset=elOffset+(elSize/2);var viewportCenterOffset=vpOffset+(vpSize/2);var isInView=elSize<=vpSize&&elOffset>=vpOffset&&elOffset+elSize<=vpOffset+vpSize;if(scrollNever)
doNotScroll[xy]=true;else if(!doNotScroll[xy]){if(blockIsNearest||scrollIfNeeded){doNotScroll[xy]=scrollIfNeeded?isInView:false;blockIsEnd=elSize<vpSize?elementCenterOffset>viewportCenterOffset:elementCenterOffset<viewportCenterOffset;}
if(blockIsEnd||blockIsCenter)
elementScrollCoordinates[xy]-=((vpSize/divide)-(elSize/divide))*(isX&&_isRTL&&normalizeRTL?-1:1);}};finalizeBlock(true);finalizeBlock(false);}
if(doNotScroll.y)
delete elementScrollCoordinates.y;if(doNotScroll.x)
delete elementScrollCoordinates.x;coordinates=elementScrollCoordinates;}
finalScroll[_strScrollLeft]=getFinalScroll(true,getRawScroll(coordinates).x);finalScroll[_strScrollTop]=getFinalScroll(false,getRawScroll(coordinates).y);doScrollLeft=finalScroll[_strScrollLeft]!==undefined;doScrollTop=finalScroll[_strScrollTop]!==undefined;if((doScrollLeft||doScrollTop)&&(duration>0||durationIsObject)){if(durationIsObject)
_viewportElement.animate(finalScroll,duration);else{animationOptions={duration:duration,complete:complete};if(type(easing)==TYPES.a){var specialEasing={};specialEasing[_strScrollLeft]=easing[0];specialEasing[_strScrollTop]=easing[1];animationOptions.specialEasing=specialEasing;}
else{animationOptions.easing=easing;}
_viewportElement.animate(finalScroll,animationOptions);}}
else{if(doScrollLeft)
_viewportElement[_strScrollLeft](finalScroll[_strScrollLeft]);if(doScrollTop)
_viewportElement[_strScrollTop](finalScroll[_strScrollTop]);}};_base.scrollStop=function(param1,param2,param3){_viewportElement.stop(param1,param2,param3);return _base;};_base.getElements=function(elementName){var obj={target:_targetElement[0],host:_hostElement[0],padding:_paddingElement[0],viewport:_viewportElement[0],content:_contentElement[0],scrollbarHorizontal:{scrollbar:_scrollbarHorizontalElement[0],track:_scrollbarHorizontalTrackElement[0],handle:_scrollbarHorizontalHandleElement[0]},scrollbarVertical:{scrollbar:_scrollbarVerticalElement[0],track:_scrollbarVerticalTrackElement[0],handle:_scrollbarVerticalHandleElement[0]},scrollbarCorner:_scrollbarCornerElement[0]};return type(elementName)==TYPES.s?getObjectPropVal(obj,elementName):obj;};_base.getState=function(stateProperty){var prepare=function(obj){if(!framework.isPlainObject(obj))
return obj;var extended=extend(true,{},obj);var changePropertyName=function(from,to){if(extended.hasOwnProperty(from)){extended[to]=extended[from];delete extended[from];}};changePropertyName('w',_strWidth);changePropertyName('h',_strHeight);delete extended.c;return extended;};var obj={sleeping:prepare(_isSleeping)||false,autoUpdate:prepare(!_mutationObserverConnected),widthAuto:prepare(_widthAutoCache),heightAuto:prepare(_heightAutoCache),padding:prepare(_cssPaddingCache),overflowAmount:prepare(_overflowAmountCache),hideOverflow:prepare(_hideOverflowCache),hasOverflow:prepare(_hasOverflowCache),contentScrollSize:prepare(_contentScrollSizeCache),viewportSize:prepare(_viewportSize),hostSize:prepare(_hostSizeCache),documentMixed:prepare(_documentMixed)};return type(stateProperty)==TYPES.s?getObjectPropVal(obj,stateProperty):obj;};_base.ext=function(extName){var result;var privateMethods=_extensionsPrivateMethods.split(' ');var i=0;if(type(extName)==TYPES.s){if(_extensions.hasOwnProperty(extName)){result=extend(true,{},_extensions[extName]);for(;i<privateMethods.length;i++)
delete result[privateMethods[i]];}}
else{result={};for(i in _extensions)
result[i]=extend(true,{},_base.ext(i));}
return result;};_base.addExt=function(extName,extensionOptions){var registeredExtensionObj=window[PLUGINNAME].extension(extName);var instance;var instanceAdded;var instanceContract;var contractResult;var contractFulfilled=true;if(registeredExtensionObj){if(!_extensions.hasOwnProperty(extName)){instance=registeredExtensionObj.extension.call(_base,extend(true,{},registeredExtensionObj.defaultOptions),framework,compatibility);if(instance){instanceContract=instance.contract;if(type(instanceContract)==TYPES.f){contractResult=instanceContract(window);contractFulfilled=type(contractResult)==TYPES.b?contractResult:contractFulfilled;}
if(contractFulfilled){_extensions[extName]=instance;instanceAdded=instance.added;if(type(instanceAdded)==TYPES.f)
instanceAdded(extensionOptions);return _base.ext(extName);}}}
else
return _base.ext(extName);}
else
console.warn("A extension with the name \""+extName+"\" isn't registered.");};_base.removeExt=function(extName){var instance=_extensions[extName];var instanceRemoved;if(instance){delete _extensions[extName];instanceRemoved=instance.removed;if(type(instanceRemoved)==TYPES.f)
instanceRemoved();return true;}
return false;};function construct(targetElement,options,extensions){_defaultOptions=globals.defaultOptions;_nativeScrollbarStyling=globals.nativeScrollbarStyling;_nativeScrollbarSize=extend(true,{},globals.nativeScrollbarSize);_nativeScrollbarIsOverlaid=extend(true,{},globals.nativeScrollbarIsOverlaid);_overlayScrollbarDummySize=extend(true,{},globals.overlayScrollbarDummySize);_rtlScrollBehavior=extend(true,{},globals.rtlScrollBehavior);setOptions(extend(true,{},_defaultOptions,options));if(_nativeScrollbarIsOverlaid.x&&_nativeScrollbarIsOverlaid.x&&!_currentPreparedOptions.nativeScrollbarsOverlaid.initialize){callCallback("onInitializationWithdrawn");return false;}
_cssCalc=globals.cssCalc;_msieVersion=globals.msie;_autoUpdateRecommended=globals.autoUpdateRecommended;_supportTransition=globals.supportTransition;_supportTransform=globals.supportTransform;_supportPassiveEvents=globals.supportPassiveEvents;_supportResizeObserver=globals.supportResizeObserver;_supportMutationObserver=globals.supportMutationObserver;_restrictedMeasuring=globals.restrictedMeasuring;_documentElement=framework(targetElement.ownerDocument);_windowElement=framework(_documentElement[0].defaultView||_documentElement[0].parentWindow);_htmlElement=findFirst(_documentElement,'html');_bodyElement=findFirst(_htmlElement,'body');_targetElement=framework(targetElement);_isTextarea=_targetElement.is('textarea');_isBody=_targetElement.is('body');_documentMixed=_documentElement[0]!==document;var initBodyScroll;if(_isBody){initBodyScroll={};initBodyScroll.l=Math.max(_targetElement[_strScrollLeft](),_htmlElement[_strScrollLeft](),_windowElement[_strScrollLeft]());initBodyScroll.t=Math.max(_targetElement[_strScrollTop](),_htmlElement[_strScrollTop](),_windowElement[_strScrollTop]());}
if(_isTextarea){_targetElement.wrap(generateDiv(_classNameHostTextareaElement));addClass(_targetElement,_classNameTextareaElement+_strSpace+_classNameTextInherit);_hostElement=_targetElement.parent();var hostElementCSS={};if(!_currentPreparedOptions.sizeAutoCapable){hostElementCSS[_strWidth]=_targetElement.css(_strWidth);hostElementCSS[_strHeight]=_targetElement.css(_strHeight);}
_hostElement.css(hostElementCSS).wrapInner(generateDiv(_classNameContentElement+_strSpace+_classNameTextInherit)).wrapInner(generateDiv(_classNameViewportElement+_strSpace+_classNameTextInherit)).wrapInner(generateDiv(_classNamePaddingElement+_strSpace+_classNameTextInherit));_contentElement=findFirst(_hostElement,_strDot+_classNameContentElement);_viewportElement=findFirst(_hostElement,_strDot+_classNameViewportElement);_paddingElement=findFirst(_hostElement,_strDot+_classNamePaddingElement);_textareaCoverElement=framework(generateDiv(_classNameTextareaCoverElement));_contentElement.prepend(_textareaCoverElement);_targetElement.on(_strScroll,textareaOnScroll).on('drop',textareaOnDrop).on('focus',textareaOnFocus).on('focusout',textareaOnFocusOut);if(_msieVersion>9||!_autoUpdateRecommended){_targetElement.on('input',textareaOnInput);}
else{_targetElement.on(_strKeyDownEvent,textareaOnKeyDown).on(_strKeyUpEvent,textareaOnKeyUp);}}else{addClass(_targetElement,_classNameHostElement);_hostElement=_targetElement;_hostElement.wrapInner(generateDiv(_classNameContentElement)).wrapInner(generateDiv(_classNameViewportElement)).wrapInner(generateDiv(_classNamePaddingElement));_contentElement=findFirst(_hostElement,_strDot+_classNameContentElement);_viewportElement=findFirst(_hostElement,_strDot+_classNameViewportElement);_paddingElement=findFirst(_hostElement,_strDot+_classNamePaddingElement);_contentElement.on(_strTransitionEndEvent,function(event){if(_autoUpdateCache===true)
return;event=event.originalEvent||event;if(isSizeAffectingCSSProperty(event.propertyName))
update(_strAuto);});}
buildScrollbars();if(_supportPassiveEvents)
addPassiveEventListener(_viewportElement,_strScroll,viewportOnScroll);else
_viewportElement.on(_strScroll,viewportOnScroll);if(_nativeScrollbarStyling)
addClass(_viewportElement,_nativeScrollbarIsOverlaid.x&&_nativeScrollbarIsOverlaid.y?_classNameViewportNativeScrollbarsOverlaid:_classNameViewportNativeScrollbarsInvisible);if(_supportMutationObserver){var mutationObserver=compatibility.mO();var contentLastUpdate=compatibility.now();var mutationTarget;var mutationAttrName;var contentTimeout;var now;var sizeAuto;var action;_mutationObserverHost=new mutationObserver(function(mutations){if(!_initialized||_isSleeping)
return;var doUpdate=false;var mutation;framework.each(mutations,function(){mutation=this;mutationTarget=mutation.target;mutationAttrName=mutation.attributeName;if(mutationAttrName===LEXICON.c)
doUpdate=hostClassNamesChanged(mutation.oldValue,mutationTarget.className);else if(mutationAttrName===LEXICON.s)
doUpdate=mutation.oldValue!==mutationTarget[LEXICON.s].cssText;else
doUpdate=true;if(doUpdate)
return false;});if(doUpdate)
_base.update(_strAuto);});_mutationObserverContent=new mutationObserver(function(mutations){if(!_initialized||_isSleeping)
return;var doUpdate=false;var mutation;framework.each(mutations,function(){mutation=this;doUpdate=isUnknownMutation(mutation);return!doUpdate;});if(doUpdate){now=compatibility.now();sizeAuto=(_heightAutoCache||_widthAutoCache);action=function(){if(!_destroyed){contentLastUpdate=now;if(_isTextarea)
textareaUpdate();if(sizeAuto)
_base.update();else
_base.update(_strAuto);}};clearTimeout(contentTimeout);if(_mutationObserverContentLag<=0||now-contentLastUpdate>_mutationObserverContentLag||!sizeAuto)
action();else
contentTimeout=setTimeout(action,_mutationObserverContentLag);}});}
if(_isBody){addClass(_htmlElement,_classNameHTMLElement);_viewportElement[_strScrollLeft](initBodyScroll.l);_viewportElement[_strScrollTop](initBodyScroll.t);}
_sizeObserverElement=framework(generateDiv('os-resize-observer-host'));_hostElement.prepend(_sizeObserverElement);addResizeObserver(_sizeObserverElement,hostOnResized);hostOnResized();_base.update(_strAuto);setTimeout(function(){if(_supportTransition&&!_destroyed)
addClass(_hostElement,_classNameHostTransition)},333);_initialized=true;callCallback("onInitialized");if(type(extensions)==TYPES.s)
extensions=[extensions];if(framework.isArray(extensions))
framework.each(extensions,function(){_base.addExt(this);});else if(framework.isPlainObject(extensions))
framework.each(extensions,function(key,value){_base.addExt(key,value);});return _initialized;}
if(construct(pluginTargetElement,options,extensions)){instances(pluginTargetElement,_base);return _base;}
_base=undefined;}
window[PLUGINNAME]=function(pluginTargetElements,options,extensions){if(arguments.length===0)
return this;initOverlayScrollbarsStatics();var arr=[];var inst;var result;if(framework.isPlainObject(options)){if(pluginTargetElements&&pluginTargetElements.length){framework.each(pluginTargetElements,function(){inst=this;if(inst!==undefined)
arr.push(OverlayScrollbarsInstance(inst,options,extensions,_pluginsGlobals,_pluginsAutoUpdateLoop));});result=arr.length>1?arr:arr[0];}
else
result=OverlayScrollbarsInstance(pluginTargetElements,options,extensions,_pluginsGlobals,_pluginsAutoUpdateLoop);}
else if(pluginTargetElements){if(pluginTargetElements.length&&pluginTargetElements.length>0){framework.each(pluginTargetElements,function(){inst=instances(this);if(options==='!'){if(inst instanceof window[PLUGINNAME])
arr.push(inst);}
else
arr.push(inst);});result=arr.length>1?arr:arr[0];}
else
result=instances(pluginTargetElements);}
return result;};window[PLUGINNAME].globals=function(){initOverlayScrollbarsStatics();var globals=framework.extend(true,{},_pluginsGlobals);delete globals['msie'];return globals;};window[PLUGINNAME].defaultOptions=function(newDefaultOptions){initOverlayScrollbarsStatics();var currDefaultOptions=_pluginsGlobals.defaultOptions;if(newDefaultOptions===undefined)
return framework.extend(true,{},currDefaultOptions);_pluginsGlobals.defaultOptions=framework.extend(true,{},currDefaultOptions,_pluginsOptions.v(newDefaultOptions,_pluginsOptions.t,true));};window[PLUGINNAME].extension=function(extensionName,extension,defaultOptions){var extNameTypeString=framework.type(extensionName)==TYPES.s;var argLen=arguments[LEXICON.l];var i=0;if(argLen<1||!extNameTypeString){return framework.extend(true,{length:_pluginsExtensions[LEXICON.l]},_pluginsExtensions);}
else if(extNameTypeString){if(framework.type(extension)==TYPES.f){_pluginsExtensions.push({name:extensionName,extension:extension,defaultOptions:defaultOptions});}
else{for(;i<_pluginsExtensions[LEXICON.l];i++){if(_pluginsExtensions[i].name===extensionName){if(argLen>1)
_pluginsExtensions.splice(i,1);else
return framework.extend(true,{},_pluginsExtensions[i]);}}}}};return window[PLUGINNAME];})(FRAMEWORK,COMPATIBILITY,INSTANCES);if(JQUERY&&JQUERY.fn){JQUERY.fn.overlayScrollbars=function(options,extensions){var _elements=this;if(JQUERY.isPlainObject(options)){JQUERY.each(_elements,function(){PLUGIN(this,options,extensions);});return _elements;}
else
return PLUGIN(_elements,options);};}
return PLUGIN;}));